import{e,f as a}from"./user-91a46e3a.js";import{j as l}from"./index-3bd673e3.js";import{g as s}from"./utils-e10d97cb.js";import{f as t}from"./feedback-179fee83.js";import{d as o,e as m,i,Y as u,Z as d,ag as r,c as n,a as p,U as v,O as c,az as f,aA as j,o as b,F as g,a7 as _,M as h,u as x,T as y,R as k,S as w}from"./@vue-9d7d117a.js";import{_ as V}from"./index-9b4b676d.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-efa01f16.js";import"./nprogress-867e68f1.js";import"./element-plus-1abe4ec3.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-a55f440f.js";import"./@element-plus-9c1020e5.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./vue-router-d0599d8d.js";import"./pinia-c89a5039.js";/* empty css                    */const z=[{name:"制冷",value:0},{name:"加热",value:1},{name:"内循环",value:2}],C=e=>(f("data-v-968135e1"),e=e(),j(),e),I={class:"cooling"},U={class:"btn-box"},A={class:"card-box"},F=C((()=>p("div",{class:"card-header"},[p("span",null,"控制")],-1))),R={key:0},S={class:"img-data"},B=C((()=>p("div",{class:"img-box"},[p("img",{src:"/static/png/cooling-2157892c.png",alt:""})],-1))),E={class:"imgdata-box"},M=C((()=>p("div",{class:"imgdata-name"},"通信状态",-1))),N={key:0,class:"imgdata-name"},O={class:"imgdata-value"},T={class:"imgdata-value"},Y={class:"tab-box"},Z=V(o({__name:"Index",setup(o){const f=m([]),j=m({}),V=z,C=m(0),Z=m(null),q=m(2e3);i((()=>{J()})),u((()=>{H()}));const D=m(),G=d({mode:null,temp:null,setEnabled:!1}),H=()=>{clearInterval(Z.value),Z.value=null},J=()=>{e().then((e=>{j.value=e,f.value=l(j.value),f.value.map((e=>(e.value=s(e.value),e))),H(),Z.value=setInterval((()=>{J()}),q.value)})).catch((e=>{}))};return(e,l)=>{const s=r("el-option"),o=r("el-select"),m=r("el-form-item"),i=r("el-input"),u=r("el-button"),d=r("el-form"),z=r("el-card"),Z=r("el-col"),q=r("el-row"),H=r("el-table-column"),J=r("el-table");return b(),n("div",I,[p("div",U,[p("div",A,[v(z,{class:"box-card"},{header:c((()=>[F])),default:c((()=>[p("div",null,[v(d,{ref_key:"formRef",ref:D,model:G,"label-width":"120px"},{default:c((()=>[v(m,{label:"模式",prop:"mode"},{default:c((()=>[v(o,{modelValue:G.mode,"onUpdate:modelValue":l[0]||(l[0]=e=>G.mode=e),placeholder:"请选择无功补偿方式",onChange:l[1]||(l[1]=e=>{return a=G.mode,void(C.value=a);var a})},{default:c((()=>[(b(!0),n(g,null,_(x(V),((e,a)=>(b(),h(s,{key:a,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),0==C.value||1==C.value?(b(),n("div",R," 当前温度设定："+y(j.value[x(V)[C.value].name+"温度"])+" ℃ ",1)):k("",!0)])),_:1}),v(m,{label:"温度设定",prop:"temp"},{default:c((()=>[v(i,{modelValue:G.temp,"onUpdate:modelValue":l[2]||(l[2]=e=>G.temp=e),type:"number"},null,8,["modelValue"])])),_:1}),v(m,null,{default:c((()=>[v(u,{type:"primary",onClick:l[3]||(l[3]=e=>(e=>{if(!e)return;let l={mode:G.mode,temp:Number(G.temp)};a(l).then((e=>{t.msgSuccess("设置成功")})).catch((e=>{}))})(D.value))},{default:c((()=>[w("设置")])),_:1}),v(u,{onClick:l[4]||(l[4]=e=>{var a;(a=D.value)&&a.resetFields()})},{default:c((()=>[w("清空")])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1})])]),p("div",S,[B,p("div",E,[v(q,null,{default:c((()=>[v(Z,{span:12},{default:c((()=>[M])),_:1}),v(Z,{span:12},{default:c((()=>[j.value["数据更新时间戳"]||j.value["数据更新时间"]?(b(),n("div",N,"数据更新时间")):k("",!0)])),_:1}),v(Z,{span:12},{default:c((()=>[p("div",O,y(j.value["通信状态"]),1)])),_:1}),v(Z,{span:12},{default:c((()=>[p("div",T,y(j.value["数据更新时间戳"]||j.value["数据更新时间"]||""),1)])),_:1})])),_:1})])]),p("div",Y,[v(J,{data:f.value,stripe:"",border:"",align:"center",style:{width:"100%"}},{default:c((()=>[v(H,{type:"index",width:"60",align:"center",label:"序号"}),v(H,{prop:"name",label:"数据名称",align:"center","min-width":"150"}),v(H,{prop:"value",label:"数值",align:"center","min-width":"120"}),v(H,{prop:"unit",label:"单位",align:"center",width:"80"})])),_:1},8,["data"])])])}}}),[["__scopeId","data-v-968135e1"]]);export{Z as default};
