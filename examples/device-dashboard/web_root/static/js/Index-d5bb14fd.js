import{d as e}from"./user-865e236e.js";import{j as a}from"./index-7bb1138a.js";import{d as l,e as s,i as t,Y as o,ag as r,c as n,U as i,O as u,o as p,a as m,F as c,a7 as v,M as j}from"./@vue-c5a747fc.js";import{_ as d}from"./index-ffa82d51.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-5b55c11d.js";import"./feedback-5363c0cc.js";import"./element-plus-230cec57.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-90035fc5.js";import"./@element-plus-388117bf.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./vue-router-641e505b.js";import"./pinia-801b3705.js";/* empty css                    */const f={class:"fighting"},b={class:"ctnbox-box"},g={class:"ctn-box"},h=d(l({__name:"Index",setup(l){s([]);const d=s({}),h=s([]);s([]),s([]);const x=s([]);s([]);const _=s(null),w=s(2e3);t((()=>{I()})),o((()=>{y()}));const y=()=>{clearInterval(_.value),_.value=null},I=()=>{e().then((e=>{d.value=e,h.value=[],a(d.value).map(((e,a)=>{h.value.push(e)})),h.value.map(((e,l)=>(e.value=a(e.value),e.value.map((a=>(a[e.name]=a.value,a))),e))),h.value.reduce(((e,a,l)=>{let s=((e,a,l)=>{const s=new Map;for(const t of e.concat(a))if(s.has(t[l])){const e=s.get(t[l]);for(const a in t)a!==l&&(e[a]=t[a])}else s.set(t[l],t);return Array.from(s.values())})(e.value,a.value,"name");return l===h.value.length-1&&(x.value=s),{value:s}})),y(),_.value=setInterval((()=>{I()}),w.value)})).catch((e=>{}))};return(e,a)=>{const l=r("el-table-column"),s=r("el-table"),t=r("el-col"),o=r("el-row");return p(),n("div",f,[i(o,null,{default:u((()=>[i(t,{xs:24,sm:24},{default:u((()=>[m("div",b,[m("div",g,[i(s,{data:x.value,stripe:"",border:"",align:"center"},{default:u((()=>[i(l,{prop:"",label:"电池包火灾探测器",align:"center"},{default:u((()=>[i(l,{prop:"name",label:"数据名称",align:"center"}),(p(!0),n(c,null,v(h.value,((e,a)=>(p(),j(l,{key:a,prop:e.name,label:e.name,align:"center","min-width":"100"},null,8,["prop","label"])))),128)),i(l,{prop:"unit",label:"单位",align:"center"})])),_:1})])),_:1},8,["data"])])])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-37cb274c"]]);export{h as default};
