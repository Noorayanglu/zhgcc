import{b as e,p as a,c as l}from"./user-0e88d26a.js";import{j as o,g as s}from"./utils-4226c3cb.js";import{f as t}from"./feedback-179fee83.js";import{d as p,e as u,i as n,Z as d,ag as r,c as m,a as i,U as c,O as v,az as f,aA as b,o as w,S as _,F as j,a7 as y,M as g,u as h,R as V,T as k}from"./@vue-9d7d117a.js";import{_ as x}from"./index-a7858b00.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-efa01f16.js";import"./nprogress-867e68f1.js";import"./element-plus-1abe4ec3.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-a55f440f.js";import"./@element-plus-9c1020e5.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./vue-router-d0599d8d.js";import"./pinia-c89a5039.js";/* empty css                    */const U=[{name:"无功功率模式",value:0},{name:"无功电流模式",value:1},{name:"功率因数模式",value:2}],z=[{name:"并网使能",value:0},{name:"离网使能",value:1}],C=[{name:"电压源模式",value:0},{name:"电流源模式",value:1}],A=e=>(f("data-v-ea0c7ca7"),e=e(),b(),e),S={class:"pcs"},F={class:"btn-box"},I={class:"card-box"},R=A((()=>i("div",{class:"card-header"},[i("span",null,"控制")],-1))),B={class:"img-data"},K=A((()=>i("div",{class:"img-box"},[i("img",{src:"/static/png/pcs-f42e8c64.png",alt:""})],-1))),M={class:"imgdata-box"},O=A((()=>i("div",{class:"imgdata-name"},"通信状态",-1))),T=A((()=>i("div",{class:"imgdata-name"},"数据更新时间戳",-1))),W=A((()=>i("div",{class:"imgdata-name"},"通信失败次数",-1))),Z={class:"imgdata-value"},q={class:"imgdata-value"},D={class:"imgdata-value"},E={class:"tab-box"},G=x(p({__name:"Index",setup(p){const f=u([]),b=u({}),x=U,A=z,G=C;n((()=>{N()}));const H=u(),J=d({power:null,nopower:null,nopower0:null,nopower1:null,nopower2:null,lwms:null,mkyxms:null}),L=e=>{a({state:e}).then((e=>{t.msgSuccess("设置成功")})).catch((e=>{}))},N=()=>{e().then((e=>{b.value=e,f.value=o(b.value),f.value.map((e=>(e.value=s(e.value),e)))})).catch((e=>{}))};return(e,a)=>{const o=r("el-button"),s=r("el-input"),p=r("el-form-item"),u=r("el-option"),n=r("el-select"),d=r("el-form"),U=r("el-card"),z=r("el-col"),C=r("el-row"),N=r("el-table-column"),P=r("el-table");return w(),m("div",S,[i("div",F,[i("div",null,[c(o,{type:"primary",onClick:a[0]||(a[0]=e=>L(1))},{default:v((()=>[_("开机")])),_:1}),c(o,{type:"primary",onClick:a[1]||(a[1]=e=>L(0))},{default:v((()=>[_("关机")])),_:1})]),i("div",I,[c(U,{class:"box-card"},{header:v((()=>[R])),default:v((()=>[i("div",null,[c(d,{ref_key:"formRef",ref:H,model:J,"label-width":"120px"},{default:v((()=>[c(p,{label:"有功功率",prop:"power"},{default:v((()=>[c(s,{modelValue:J.power,"onUpdate:modelValue":a[2]||(a[2]=e=>J.power=e),type:"number"},{append:v((()=>[_("kW")])),_:1},8,["modelValue"]),_("正值：放电 负值：充电 ")])),_:1}),c(p,{label:"无功补偿方式",prop:"nopower"},{default:v((()=>[c(n,{modelValue:J.nopower,"onUpdate:modelValue":a[3]||(a[3]=e=>J.nopower=e),placeholder:"请选择无功补偿方式"},{default:v((()=>[(w(!0),m(j,null,y(h(x),((e,a)=>(w(),g(u,{key:a,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),0==J.nopower?(w(),g(p,{key:0,label:"无功功率补偿功率",prop:"nopower0"},{default:v((()=>[c(s,{modelValue:J.nopower0,"onUpdate:modelValue":a[4]||(a[4]=e=>J.nopower0=e),type:"number"},{append:v((()=>[_("KVar")])),_:1},8,["modelValue"])])),_:1})):V("",!0),1==J.nopower?(w(),g(p,{key:1,label:"无功电流补偿电流",prop:"nopower1"},{default:v((()=>[c(s,{modelValue:J.nopower1,"onUpdate:modelValue":a[5]||(a[5]=e=>J.nopower1=e),type:"number"},{append:v((()=>[_("A")])),_:1},8,["modelValue"])])),_:1})):V("",!0),2==J.nopower?(w(),g(p,{key:2,label:"无功补偿功率因数",prop:"nopower2"},{default:v((()=>[c(s,{modelValue:J.nopower2,"onUpdate:modelValue":a[6]||(a[6]=e=>J.nopower2=e),type:"number"},{append:v((()=>[_("-1~-0.85 0.85~1")])),_:1},8,["modelValue"])])),_:1})):V("",!0),c(p,{label:"离网模式",prop:"lwms"},{default:v((()=>[c(n,{modelValue:J.lwms,"onUpdate:modelValue":a[7]||(a[7]=e=>J.lwms=e),placeholder:"请选择离网模式"},{default:v((()=>[(w(!0),m(j,null,y(h(A),((e,a)=>(w(),g(u,{key:a,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(p,{label:"模块运行模式",prop:"mkyxms"},{default:v((()=>[c(n,{modelValue:J.mkyxms,"onUpdate:modelValue":a[8]||(a[8]=e=>J.mkyxms=e),placeholder:"请选择模块运行模式"},{default:v((()=>[(w(!0),m(j,null,y(h(G),((e,a)=>(w(),g(u,{key:a,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(p,null,{default:v((()=>[c(o,{type:"primary",onClick:a[9]||(a[9]=e=>(e=>{if(!e)return;l({}).then((e=>{t.msgSuccess("设置成功")})).catch((e=>{}))})(H.value))},{default:v((()=>[_("设置")])),_:1}),c(o,{onClick:a[10]||(a[10]=e=>{var a;(a=H.value)&&a.resetFields()})},{default:v((()=>[_("清空")])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1})])]),i("div",B,[K,i("div",M,[c(C,null,{default:v((()=>[c(z,{span:8},{default:v((()=>[O])),_:1}),c(z,{span:8},{default:v((()=>[T])),_:1}),c(z,{span:8},{default:v((()=>[W])),_:1}),c(z,{span:8},{default:v((()=>[i("div",Z,k(b.value["通信状态"]),1)])),_:1}),c(z,{span:8},{default:v((()=>[i("div",q,k(b.value["更新时间戳"]),1)])),_:1}),c(z,{span:8},{default:v((()=>[i("div",D,k(b.value["通信失败次数"]),1)])),_:1})])),_:1})])]),i("div",E,[c(P,{data:f.value,stripe:"",border:"",align:"center",style:{width:"100%"}},{default:v((()=>[c(N,{type:"index",width:"60",align:"center",label:"序号"}),c(N,{prop:"name",label:"数据名称",align:"center","min-width":"150"}),c(N,{prop:"value",label:"数值",align:"center","min-width":"120"}),c(N,{prop:"unit",label:"单位",align:"center",width:"80"})])),_:1},8,["data"])])])}}}),[["__scopeId","data-v-ea0c7ca7"]]);export{G as default};
