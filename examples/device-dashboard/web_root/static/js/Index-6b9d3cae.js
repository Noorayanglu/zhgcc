import{d as a}from"./user-d539355d.js";import{j as e,g as l}from"./utils-4226c3cb.js";import{d as s,e as t,i,ag as o,c as u,a as c,U as p,O as v,o as m,T as r,F as d,a7 as n,J as j,az as b,aA as g}from"./@vue-9d7d117a.js";import{_ as f}from"./index-09612ea0.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-efa01f16.js";import"./feedback-179fee83.js";import"./element-plus-1abe4ec3.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-a55f440f.js";import"./@element-plus-9c1020e5.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./nprogress-867e68f1.js";import"./vue-router-d0599d8d.js";import"./pinia-c89a5039.js";/* empty css                    */const h=a=>(b("data-v-e6450a3c"),a=a(),g(),a),x={class:"bms"},_={class:"img-data"},k=[h((()=>c("img",{src:"/static/png/bms-8b1d6522.png",alt:""},null,-1)))],y={class:"imgdata-box"},w=h((()=>c("div",{class:"imgdata-name"},"通信状态",-1))),z=h((()=>c("div",{class:"imgdata-name"},"数据更新时间戳",-1))),A={class:"imgdata-value"},B={class:"imgdata-value"},C={class:"tab-box"},V={class:"pack-box"},I={class:"pack-data-tip-box"},T=f(s({__name:"Index",setup(s){const b=t([]),g=t({}),f=t(!0),h=t(null),T=t(null),U=t(null),F=t(null),G=t([]);i((()=>{q()}));const J=()=>{f.value=!0},O=a=>{f.value=!1},q=()=>{g.value={"通信状态":"正常","更新时间戳":1705308024088,"通信失败次数":0,"AB线电压":0,"BC线电压":0,"CA线电压":81e-8,"A相电流":420,"B相电流":0,"C相电流":0,"有功功率":0,"无功功率":0,"电池电压":0,"电池电流":0,"IGBT温度":0,"环境温度":0,"电感温度":0,"电芯压差":9.32e-9,"最高温度位置":7,"最低温度位置":7,"最高电压位置":17,"最低电压位置":17,"电芯温度":[12,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,3,12,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43],"电芯电压":[12,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,3,12,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43,43,312,23,432,3,2,3,4,5,6,66,564,3,54,34,3,32,4,3,42,423,432,432,234,324,3,3,3,2,2,34,3,4,5,43]};const{"电芯温度":s,"电芯电压":t,...i}=g.value;F.value=s["最高温度位置"],U.value=s["最低温度位置"],T.value=s["最高电压位置"],h.value=s["最低电压位置"];let o=s.length/5,u=t.length/5;G.value[0]={tempobj:s.slice(0,o),vobj:t.slice(0,u)},G.value[1]={tempobj:s.slice(1*o,2*o),vobj:t.slice(1*u,2*u)},G.value[2]={tempobj:s.slice(2*o,3*o),vobj:t.slice(2*u,3*u)},G.value[3]={tempobj:s.slice(3*o,4*o),vobj:t.slice(3*u,4*u)},G.value[4]={tempobj:s.slice(4*o,5*o),vobj:t.slice(4*u,5*u)},b.value=e(i),b.value.map((a=>(a.value=l(a.value),a))),a().then((a=>{g.value=a;const{"电芯温度":s,"电芯电压":t,...i}=g.value;F.value=s["最高温度位置"],U.value=s["最低温度位置"],T.value=s["最高电压位置"],h.value=s["最低电压位置"],b.value=e(i),b.value.map((a=>(a.value=l(a.value),a)))})).catch((a=>{}))};return(a,e)=>{const l=o("el-col"),s=o("el-row"),t=o("el-table-column"),i=o("el-table"),q=o("el-drawer");return m(),u("div",x,[c("div",_,[c("div",{class:"img-box",onClick:J},k),c("div",y,[p(s,null,{default:v((()=>[p(l,{span:12},{default:v((()=>[w])),_:1}),p(l,{span:12},{default:v((()=>[z])),_:1}),p(l,{span:12},{default:v((()=>[c("div",A,r(g.value["通信状态"]),1)])),_:1}),p(l,{span:12},{default:v((()=>[c("div",B,r(g.value["更新时间戳"]),1)])),_:1})])),_:1})])]),c("div",C,[p(i,{data:b.value,stripe:"",border:"",align:"center",style:{width:"100%"}},{default:v((()=>[p(t,{type:"index",width:"60",align:"center",label:"序号"}),p(t,{prop:"name",label:"数据名称",align:"center","min-width":"150"}),p(t,{prop:"value",label:"数值",align:"center","min-width":"120"}),p(t,{prop:"unit",label:"单位",align:"center",width:"80"})])),_:1},8,["data"])]),p(q,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=a=>f.value=a),title:"1#",direction:"rtl","before-close":O,size:"70%"},{default:v((()=>[c("div",V,[c("div",I,[(m(!0),u(d,null,n(G.value,((a,e)=>(m(),u("div",{class:"pack-data-tip",key:e},[(m(!0),u(d,null,n(a.tempobj,((a,e)=>(m(),u("div",{class:"pack-data-tip-text text-left",key:e},[c("span",{style:j(a===T.value?"color: #67c23a":a===h.value?"color: #f56c6c":"")},r(a)+" V",5)])))),128)),(m(!0),u(d,null,n(a.vobj,((a,e)=>(m(),u("div",{class:"pack-data-tip-text",key:e},[c("span",{style:j(a===F.value?"color: #67c23a":a===U.value?"color: #f56c6c":"")},r(a)+" ℃",5)])))),128))])))),128))])])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-e6450a3c"]]);export{T as default};
