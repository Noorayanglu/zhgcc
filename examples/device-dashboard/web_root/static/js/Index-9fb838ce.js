import{h as e,j as a,i as l}from"./index-66658d12.js";import{f as s}from"./feedback-551b2bff.js";import{d as t,e as n,i,Y as r,Z as o,ag as m,c as u,U as d,O as p,o as c,F as v,a7 as f,M as g,a as j,R as b,J as x,T as _,u as h,S as k,az as y,aA as w}from"./@vue-c5a747fc.js";import{_ as z}from"./index-3bf6737e.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-5b55c11d.js";import"./element-plus-a5ae5727.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-90035fc5.js";import"./@element-plus-388117bf.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./vue-router-641e505b.js";import"./pinia-801b3705.js";/* empty css                    */const C=[{name:"灭",value:0},{name:"白",value:1},{name:"红",value:2},{name:"绿",value:3},{name:"蓝",value:4}],I=e=>(y("data-v-014dc379"),e=e(),w(),e),V={class:"round"},A={class:"img-box img-mini-box"},D={key:0,src:"/static/png/hk1-47e6cb98.png",alt:""},F={key:1,src:"/static/png/hk2-b86b4ead.png",alt:""},O={key:2,src:"/static/png/hk3-cbbf1e79.png",alt:""},R={key:3,src:"/static/png/hk4-9ab61ea6.png",alt:""},S={class:"imgdata-box"},U=I((()=>j("div",{class:"imgdata-name"},"通信状态",-1))),B=I((()=>j("div",{class:"imgdata-name"},"数据更新时间",-1))),J={class:"imgdata-value"},M={class:"first-form"},T={class:"two-box"},Y={class:"first-btn"},Z=z(t({__name:"Index",setup(t){const y=n([]),w=n({}),z=C;n(!0);const I=n(null);n(2e3),i((()=>{G()})),r((()=>{E()}));const Z=n(),q=o({mode:null}),E=()=>{clearInterval(I.value),I.value=null},G=()=>{e().then((e=>{w.value=e,y.value=a(w.value),y.value.map((e=>{let{"数据更新时间":l,"数据更新时间戳":s,"通信状态":t,...n}=e.value;return n["状态灯"]&&(q.mode="灭"===n["状态灯"]?0:"白"===n["状态灯"]?1:"红"===n["状态灯"]?2:"绿"===n["状态灯"]?3:4),e.value=a(n),e})),y.value=H(y.value)})).catch((e=>{}))},H=e=>{let a=e;return a.map((e=>{switch(e.name){case"辅助电表":e.index=0,e.url="/src/assets/images/proj/hk1.png";break;case"一氧化碳":e.index=1,e.url="/src/assets/images/proj/hk2.png";break;case"除湿机":e.index=2,e.url="/src/assets/images/proj/hk3.png";break;case"DIDO":e.index=3,e.url="/src/assets/images/proj/hk4.png"}})),a.sort(((e,a)=>e.index-a.index)),a};return(e,a)=>{const t=m("el-col"),n=m("el-option"),i=m("el-select"),r=m("el-form-item"),o=m("el-button"),C=m("el-form"),I=m("el-row"),E=m("el-table-column"),G=m("el-table");return c(),u("div",V,[d(I,null,{default:p((()=>[(c(!0),u(v,null,f(y.value,(e=>(c(),g(t,{class:"col-box",span:12,key:e.index},{default:p((()=>[d(I,null,{default:p((()=>[d(t,{span:12},{default:p((()=>[j("div",A,[0==e.index?(c(),u("img",D)):b("",!0),1==e.index?(c(),u("img",F)):b("",!0),2==e.index?(c(),u("img",O)):b("",!0),3==e.index?(c(),u("img",R)):b("",!0)]),j("div",S,[d(I,null,{default:p((()=>[w.value[e.name]["通信状态"]?(c(),g(t,{key:0,span:10},{default:p((()=>[U])),_:1})):b("",!0),d(t,{span:3==e.index?24:14},{default:p((()=>[B])),_:2},1032,["span"]),d(t,{span:10},{default:p((()=>[j("div",{class:"imgdata-value",style:x("color:".concat("正常"==w.value[e.name]["通信状态"]?"#67C23A":"#F56C6C",";"))},_(w.value[e.name]["通信状态"]?w.value[e.name]["通信状态"]:""),5)])),_:2},1024),d(t,{span:3==e.index?24:14},{default:p((()=>[j("div",J,_(w.value[e.name]["数据更新时间戳"]?w.value[e.name]["数据更新时间戳"]:w.value[e.name]["数据更新时间"]?w.value[e.name]["数据更新时间"]:""),1)])),_:2},1032,["span"]),3==e.index?(c(),g(t,{key:1,span:24},{default:p((()=>[j("div",null,[d(C,{ref_for:!0,ref_key:"formRef",ref:Z,model:q,size:"default"},{default:p((()=>[j("div",M,[j("div",T,[d(r,{label:"状态灯",prop:"mode"},{default:p((()=>[d(i,{modelValue:q.mode,"onUpdate:modelValue":a[0]||(a[0]=e=>q.mode=e),placeholder:"状态灯"},{default:p((()=>[(c(!0),u(v,null,f(h(z),((e,a)=>(c(),g(n,{key:a,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue"])])),_:2},1024)]),j("div",Y,[d(o,{class:"btn",type:"primary",onClick:a[1]||(a[1]=e=>(e=>{if(!e)return;let a={mode:q.mode};l(a).then((e=>{s.msgSuccess("设置成功")})).catch((e=>{}))})(Z.value))},{default:p((()=>[k("设置")])),_:1})])])])),_:2},1032,["model"])])])),_:2},1024)):b("",!0)])),_:2},1024)])])),_:2},1024),d(t,{span:12},{default:p((()=>[d(G,{data:e.value,stripe:"",border:"",align:"center",style:{width:"100%"}},{default:p((()=>[d(E,{prop:"name",label:"数据名称",align:"center"}),d(E,{prop:"value",label:"数值",align:"center"}),d(E,{prop:"unit",label:"单位",align:"center",width:"50"})])),_:2},1032,["data"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])}}}),[["__scopeId","data-v-014dc379"]]);export{Z as default};
