import{h as a}from"./user-8357156e.js";import{j as e}from"./index-3bd673e3.js";import{d as s,e as l,i as t,Y as r,ag as i,c as n,U as u,O as m,o,F as p,a7 as d,M as c,a as v,R as j,J as g,T as f,az as h,aA as x}from"./@vue-9d7d117a.js";import{_}from"./index-d2b3b6c1.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-efa01f16.js";import"./feedback-179fee83.js";import"./element-plus-1abe4ec3.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-a55f440f.js";import"./@element-plus-9c1020e5.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./nprogress-867e68f1.js";import"./vue-router-d0599d8d.js";import"./pinia-c89a5039.js";/* empty css                    */const b=a=>(h("data-v-90d6d16a"),a=a(),x(),a),k={class:"round"},y={class:"img-box img-mini-box"},w=["src"],I={class:"imgdata-box"},C=b((()=>v("div",{class:"imgdata-name"},"通信状态",-1))),z=b((()=>v("div",{class:"imgdata-name"},"数据更新时间",-1))),A={class:"imgdata-value"},D=_(s({__name:"Index",setup(s){const h=l([]),x=l({}),_=l(null),b=l(2e3);t((()=>{F()})),r((()=>{D()}));const D=()=>{clearInterval(_.value),_.value=null},F=()=>{a().then((a=>{x.value=a,h.value=e(x.value),h.value.map((a=>(a.value=e(a.value),a))),h.value=O(h.value),D(),_.value=setInterval((()=>{F()}),b.value)})).catch((a=>{}))},O=a=>{let e=a;return e.map((a=>{switch(a.name){case"辅助电表":a.index=0,a.url="/src/assets/images/proj/hk1.png";break;case"一氧化碳":a.index=1,a.url="/src/assets/images/proj/hk2.png";break;case"除湿机":a.index=2,a.url="/src/assets/images/proj/hk3.png";break;case"DIDO":a.index=3,a.url="/src/assets/images/proj/hk4.png"}})),e.sort(((a,e)=>a.index-e.index)),e};return(a,e)=>{const s=i("el-col"),l=i("el-row"),t=i("el-table-column"),r=i("el-table");return o(),n("div",k,[u(l,null,{default:m((()=>[(o(!0),n(p,null,d(h.value,(a=>(o(),c(s,{span:12,key:a.index},{default:m((()=>[u(l,null,{default:m((()=>[u(s,{span:12},{default:m((()=>[v("div",y,[v("img",{src:a.url,alt:""},null,8,w)]),v("div",I,[u(l,null,{default:m((()=>[x.value[a.name]["通信状态"]?(o(),c(s,{key:0,span:10},{default:m((()=>[C])),_:1})):j("",!0),u(s,{span:14},{default:m((()=>[z])),_:1}),u(s,{span:10},{default:m((()=>[v("div",{class:"imgdata-value",style:g(`color:${"正常"==x.value[a.name]["通信状态"]?"#67C23A":"#F56C6C"};`)},f(x.value[a.name]["通信状态"]?x.value[a.name]["通信状态"]:""),5)])),_:2},1024),u(s,{span:14},{default:m((()=>[v("div",A,f(x.value[a.name]["数据更新时间戳"]?x.value[a.name]["数据更新时间戳"]:x.value[a.name]["数据更新时间"]?x.value[a.name]["数据更新时间"]:""),1)])),_:2},1024)])),_:2},1024)])])),_:2},1024),u(s,{span:12},{default:m((()=>[u(r,{data:a.value,stripe:"",border:"",align:"center",style:{width:"100%"}},{default:m((()=>[u(t,{type:"index",width:"50",align:"center",label:"序号"}),u(t,{prop:"name",label:"数据名称",align:"center"}),u(t,{prop:"value",label:"数值",align:"center"}),u(t,{prop:"unit",label:"单位",align:"center",width:"70"})])),_:2},1032,["data"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])}}}),[["__scopeId","data-v-90d6d16a"]]);export{D as default};
