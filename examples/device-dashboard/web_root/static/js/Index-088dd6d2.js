import{c as e,d as l,e as a,f as t}from"./user-5f265b1b.js";import{j as o}from"./index-52f06edd.js";import{g as s}from"./utils-e10d97cb.js";import{f as d}from"./feedback-5363c0cc.js";import{d as m,e as u,i as p,Y as r,Z as n,ag as i,c,U as f,O as v,o as b,a as h,J as g,T as _,F as y,a7 as j,M as x,u as V,S as w,az as k,aA as U}from"./@vue-c5a747fc.js";import{_ as z}from"./index-da31e699.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-5b55c11d.js";import"./element-plus-230cec57.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-90035fc5.js";import"./@element-plus-388117bf.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./vue-router-641e505b.js";import"./pinia-801b3705.js";/* empty css                    */const C=[{name:"停机",value:0},{name:"制冷",value:1},{name:"加热",value:2},{name:"自循环",value:3}],N=[{name:"手动",value:0},{name:"电芯温度",value:1},{name:"回水温度",value:2}],E=e=>(k("data-v-c37d7be1"),e=e(),U(),e),I={class:"cooling"},S={class:"img-data"},F=E((()=>h("div",{class:"img-box"},[h("img",{src:"/static/png/cooling-2157892c.png",alt:""})],-1))),R={class:"imgdata-box"},A=E((()=>h("div",{class:"imgdata-name"},"通信状态",-1))),D={class:"btn-box"},G={class:"card-box"},J=E((()=>h("div",{class:"card-header"},[h("span",null,"控制")],-1))),M={class:"first-form"},O={class:"first-btn"},T={class:"first-form"},Y={class:"two-box"},Z={class:"first-btn"},q={class:"first-form"},B={class:"two-box"},H={class:"first-btn"},K={class:"tab-box"},L=z(m({__name:"Index",setup(m){const k=u([]),U=u({}),z=C,E=N;u(0);const L=u("");u(!0);const P=u(null),Q=u(2e3);p((()=>{oe()})),r((()=>{te()}));const W=u(),X=n({mode:null,temp:null,setEnabled:!1}),$=u(),ee=n({ctlmod:null}),le=u(),ae=n({heattemp:null,heatgap:null,cooltemp:null,coolgap:null}),te=()=>{clearInterval(P.value),P.value=null},oe=()=>{e().then((e=>{const{"通信状态":l,...a}=e;U.value=a,L.value=l,k.value=o(U.value),k.value.map((e=>(e.value=s(e.value),e))),te(),P.value=setInterval((()=>{oe()}),Q.value)})).catch((e=>{}))};return(e,o)=>{const s=i("el-col"),m=i("el-row"),u=i("el-option"),p=i("el-select"),r=i("el-form-item"),n=i("el-input"),U=i("el-button"),C=i("el-form"),N=i("el-divider"),P=i("el-card"),Q=i("el-table-column"),te=i("el-table");return b(),c("div",I,[f(m,null,{default:v((()=>[f(s,{span:12,class:"col-box"},{default:v((()=>[h("div",S,[F,h("div",R,[f(m,null,{default:v((()=>[f(s,{span:24},{default:v((()=>[A])),_:1}),f(s,{span:24},{default:v((()=>[h("div",{class:"imgdata-value",style:g("color:".concat("正常"==L.value?"#67C23A":"#F56C6C",";"))},_(L.value),5)])),_:1})])),_:1})])]),h("div",D,[h("div",G,[f(P,{class:"box-card"},{header:v((()=>[J])),default:v((()=>[h("div",null,[f(C,{ref_key:"formRef",ref:W,model:X,size:"default"},{default:v((()=>[h("div",M,[h("div",null,[f(r,{label:"工作模式",prop:"mode"},{default:v((()=>[f(p,{modelValue:X.mode,"onUpdate:modelValue":o[0]||(o[0]=e=>X.mode=e),placeholder:"工作模式",style:{width:"208px"}},{default:v((()=>[(b(!0),c(y,null,j(V(z),((e,l)=>(b(),x(u,{key:l,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"温度设定",prop:"temp"},{default:v((()=>[f(n,{modelValue:X.temp,"onUpdate:modelValue":o[1]||(o[1]=e=>X.temp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1})]),h("div",O,[f(U,{class:"btn",type:"primary",onClick:o[2]||(o[2]=e=>(e=>{if(!e)return;if(null===X.temp||""===X.temp)return void d.msgError("请输入温度");let l={mode:X.mode,temp:Number(X.temp)};t(l).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})(W.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"]),f(N,{"border-style":"dashed",class:"oneline"}),f(C,{ref_key:"formRef1",ref:$,model:ee,size:"default"},{default:v((()=>[h("div",T,[h("div",Y,[f(r,{label:"控制模式",prop:"ctlmod"},{default:v((()=>[f(p,{modelValue:ee.ctlmod,"onUpdate:modelValue":o[3]||(o[3]=e=>ee.ctlmod=e),placeholder:"控制模式",style:{width:"208px"}},{default:v((()=>[(b(!0),c(y,null,j(V(E),((e,l)=>(b(),x(u,{key:l,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})]),h("div",Z,[f(U,{class:"btn",type:"primary",onClick:o[4]||(o[4]=e=>(e=>{if(!e)return;if(null===ee.ctlmod)return void d.msgError("请选择控制模式");let l={ctlmod:ee.ctlmod};a(l).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})($.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"]),f(N,{"border-style":"dashed",class:"oneline"}),f(C,{ref_key:"formRef2",ref:le,model:ae,size:"default"},{default:v((()=>[h("div",q,[h("div",B,[f(r,{label:"加热温度",prop:"heattemp"},{default:v((()=>[f(n,{modelValue:ae.heattemp,"onUpdate:modelValue":o[5]||(o[5]=e=>ae.heattemp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"加热回差",prop:"heatgap"},{default:v((()=>[f(n,{modelValue:ae.heatgap,"onUpdate:modelValue":o[6]||(o[6]=e=>ae.heatgap=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"制冷温度",prop:"cooltemp"},{default:v((()=>[f(n,{modelValue:ae.cooltemp,"onUpdate:modelValue":o[7]||(o[7]=e=>ae.cooltemp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"制冷回差",prop:"coolgap"},{default:v((()=>[f(n,{modelValue:ae.coolgap,"onUpdate:modelValue":o[8]||(o[8]=e=>ae.coolgap=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1})]),h("div",H,[f(U,{class:"btn",type:"primary",onClick:o[9]||(o[9]=e=>(e=>{if(!e)return;let a={heattemp:Number(ae.heattemp),heatgap:Number(ae.heatgap),cooltemp:Number(ae.cooltemp),coolgap:Number(ae.coolgap)};l(a).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})(le.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"])])])),_:1})])])])),_:1}),f(s,{span:12},{default:v((()=>[h("div",K,[f(te,{data:k.value,stripe:"",border:"",align:"center",style:{width:"100%"}},{default:v((()=>[f(Q,{type:"index",width:"60",align:"center",label:"序号"}),f(Q,{prop:"name",label:"数据名称",align:"center"}),f(Q,{prop:"value",label:"数值",align:"center"}),f(Q,{prop:"unit",label:"单位",align:"center",width:"80"})])),_:1},8,["data"])])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-c37d7be1"]]);export{L as default};
