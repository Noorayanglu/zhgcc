import{g as e,j as l,d as a,e as t,f as o}from"./index-66658d12.js";import{g as s}from"./utils-e10d97cb.js";import{f as d}from"./feedback-551b2bff.js";import{d as m,e as p,i as u,Y as r,Z as n,ag as i,c,U as f,O as v,o as b,a as h,J as g,T as _,F as y,a7 as j,M as x,u as V,S as w,az as k,aA as U}from"./@vue-c5a747fc.js";import{_ as z}from"./index-3bf6737e.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-5b55c11d.js";import"./element-plus-a5ae5727.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-90035fc5.js";import"./@element-plus-388117bf.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./vue-router-641e505b.js";import"./pinia-801b3705.js";/* empty css                    */const C=[{name:"停机",value:0},{name:"制冷",value:1},{name:"加热",value:2},{name:"自循环",value:3}],N=[{name:"手动",value:0},{name:"电芯温度",value:1},{name:"回水温度",value:2}],S=e=>(k("data-v-0ce6bdff"),e=e(),U(),e),A={class:"cooling"},E={class:"img-data"},I=S((()=>h("div",{class:"img-box"},[h("img",{src:"/static/png/cooling-2157892c.png",alt:""})],-1))),R={class:"imgdata-box"},F=S((()=>h("div",{class:"imgdata-name"},"通信状态",-1))),B={class:"btn-box"},J={class:"card-box"},M=S((()=>h("div",{class:"card-header"},[h("span",null,"控制")],-1))),O={class:"first-form"},T={class:"first-btn"},Y={class:"first-form"},Z={class:"two-box"},q={class:"first-btn"},D={class:"first-form"},G={class:"two-box"},H={class:"first-btn"},K={class:"tab-box"},L=z(m({__name:"Index",setup(m){const k=p([]),U=p({}),z=C,S=N;p(0);const L=p("");p(!0);const P=p(null);p(2e3),u((()=>{te()})),r((()=>{ae()}));const Q=p(),W=n({mode:null,temp:null,setEnabled:!1}),X=p(),$=n({ctlmod:null}),ee=p(),le=n({heattemp:null,heatgap:null,cooltemp:null,coolgap:null}),ae=()=>{clearInterval(P.value),P.value=null},te=()=>{e().then((e=>{const{"通信状态":a,...t}=e;U.value=t,L.value=a,k.value=l(U.value),k.value.map((e=>(e.value=s(e.value),e))),W.temp=t["温度设定"],W.mode="停机"===t["工作模式"]?0:"制冷"===t["工作模式"]?1:"加热"===t["工作模式"]?2:3,$.ctlmod="手动"===t["控制模式"]?0:"电芯温度"===t["控制模式"]?1:2,le.heattemp=t["加热温度"],le.heatgap=t["加热回差"],le.cooltemp=t["制冷温度"],le.coolgap=t["制冷回差"]})).catch((e=>{}))};return(e,l)=>{const s=i("el-col"),m=i("el-row"),p=i("el-option"),u=i("el-select"),r=i("el-form-item"),n=i("el-input"),U=i("el-button"),C=i("el-form"),N=i("el-divider"),P=i("el-card"),ae=i("el-table-column"),te=i("el-table");return b(),c("div",A,[f(m,null,{default:v((()=>[f(s,{span:12,class:"col-box"},{default:v((()=>[h("div",E,[I,h("div",R,[f(m,null,{default:v((()=>[f(s,{span:24},{default:v((()=>[F])),_:1}),f(s,{span:24},{default:v((()=>[h("div",{class:"imgdata-value",style:g("color:".concat("正常"==L.value?"#67C23A":"#F56C6C",";"))},_(L.value),5)])),_:1})])),_:1})])]),h("div",B,[h("div",J,[f(P,{class:"box-card"},{header:v((()=>[M])),default:v((()=>[h("div",null,[f(C,{ref_key:"formRef",ref:Q,model:W,size:"default"},{default:v((()=>[h("div",O,[h("div",null,[f(r,{label:"工作模式",prop:"mode"},{default:v((()=>[f(u,{modelValue:W.mode,"onUpdate:modelValue":l[0]||(l[0]=e=>W.mode=e),placeholder:"工作模式",style:{width:"208px"}},{default:v((()=>[(b(!0),c(y,null,j(V(z),((e,l)=>(b(),x(p,{key:l,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"温度设定",prop:"temp"},{default:v((()=>[f(n,{modelValue:W.temp,"onUpdate:modelValue":l[1]||(l[1]=e=>W.temp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1})]),h("div",T,[f(U,{class:"btn",type:"primary",onClick:l[2]||(l[2]=e=>(e=>{if(!e)return;if(null===W.temp||""===W.temp)return void d.msgError("请输入温度");let l={mode:W.mode,temp:Number(W.temp)};o(l).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})(Q.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"]),f(N,{"border-style":"dashed",class:"oneline"}),f(C,{ref_key:"formRef1",ref:X,model:$,size:"default"},{default:v((()=>[h("div",Y,[h("div",Z,[f(r,{label:"控制模式",prop:"ctlmod"},{default:v((()=>[f(u,{modelValue:$.ctlmod,"onUpdate:modelValue":l[3]||(l[3]=e=>$.ctlmod=e),placeholder:"控制模式",style:{width:"208px"}},{default:v((()=>[(b(!0),c(y,null,j(V(S),((e,l)=>(b(),x(p,{key:l,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})]),h("div",q,[f(U,{class:"btn",type:"primary",onClick:l[4]||(l[4]=e=>(e=>{if(!e)return;if(null===$.ctlmod)return void d.msgError("请选择控制模式");let l={ctlmod:$.ctlmod};t(l).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})(X.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"]),f(N,{"border-style":"dashed",class:"oneline"}),f(C,{ref_key:"formRef2",ref:ee,model:le,size:"default"},{default:v((()=>[h("div",D,[h("div",G,[f(r,{label:"加热温度",prop:"heattemp"},{default:v((()=>[f(n,{modelValue:le.heattemp,"onUpdate:modelValue":l[5]||(l[5]=e=>le.heattemp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"加热回差",prop:"heatgap"},{default:v((()=>[f(n,{modelValue:le.heatgap,"onUpdate:modelValue":l[6]||(l[6]=e=>le.heatgap=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"制冷温度",prop:"cooltemp"},{default:v((()=>[f(n,{modelValue:le.cooltemp,"onUpdate:modelValue":l[7]||(l[7]=e=>le.cooltemp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"制冷回差",prop:"coolgap"},{default:v((()=>[f(n,{modelValue:le.coolgap,"onUpdate:modelValue":l[8]||(l[8]=e=>le.coolgap=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1})]),h("div",H,[f(U,{class:"btn",type:"primary",onClick:l[9]||(l[9]=e=>(e=>{if(!e)return;let l={heattemp:Number(le.heattemp),heatgap:Number(le.heatgap),cooltemp:Number(le.cooltemp),coolgap:Number(le.coolgap)};a(l).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})(ee.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"])])])),_:1})])])])),_:1}),f(s,{span:12},{default:v((()=>[h("div",K,[f(te,{data:k.value,stripe:"",border:"",align:"center",style:{width:"100%"}},{default:v((()=>[f(ae,{type:"index",width:"60",align:"center",label:"序号"}),f(ae,{prop:"name",label:"数据名称",align:"center"}),f(ae,{prop:"value",label:"数值",align:"center"}),f(ae,{prop:"unit",label:"单位",align:"center",width:"80"})])),_:1},8,["data"])])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-0ce6bdff"]]);export{L as default};
