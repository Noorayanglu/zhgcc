import{g as e,j as l,d as a,e as t,f as o}from"./index-01452f60.js";import{g as s}from"./utils-e10d97cb.js";import{f as d}from"./feedback-551b2bff.js";import{d as m,e as p,i as u,Y as r,Z as n,ag as i,c,U as f,O as v,o as b,a as h,J as g,T as _,F as y,a7 as j,M as x,u as V,S as w,az as k,aA as U}from"./@vue-c5a747fc.js";import{_ as z}from"./index-520578ad.js";import"./lodash-20cd73ca.js";import"./dayjs-9ee440cb.js";import"./axios-5b55c11d.js";import"./element-plus-a5ae5727.js";import"./lodash-es-fb3d0246.js";import"./@vueuse-90035fc5.js";import"./@element-plus-388117bf.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./escape-html-92a447fa.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-9ca8b935.js";import"./vue-router-641e505b.js";import"./pinia-801b3705.js";/* empty css                    */const C=[{name:"停机",value:0},{name:"制冷",value:1},{name:"加热",value:2},{name:"自循环",value:3}],N=[{name:"手动",value:0},{name:"电芯温度",value:1},{name:"回水温度",value:2}],I=e=>(k("data-v-4f686b30"),e=e(),U(),e),S={class:"cooling"},A={class:"img-data"},E=I((()=>h("div",{class:"img-box"},[h("img",{src:"/static/png/cooling-2157892c.png",alt:""})],-1))),R={class:"imgdata-box"},F=I((()=>h("div",{class:"imgdata-name"},"通信状态",-1))),B={class:"btn-box"},J={class:"card-box"},M=I((()=>h("div",{class:"card-header"},[h("span",null,"控制")],-1))),O={class:"first-form"},T={class:"first-btn"},Y={class:"first-form"},Z={class:"two-box"},q={class:"first-btn"},D={class:"first-form"},G={class:"two-box"},H={class:"first-btn"},K={class:"tab-box"},L=z(m({__name:"Index",setup(m){const k=p([]),U=p({}),z=C,I=N;p(0);const L=p(""),P=p(null),Q=p(2e3);u((()=>{oe()})),r((()=>{te()}));const W=p(),X=n({mode:null,temp:null,setEnabled:!1}),$=p(),ee=n({ctlmod:null}),le=p(),ae=n({heattemp:null,heatgap:null,cooltemp:null,coolgap:null}),te=()=>{clearInterval(P.value),P.value=null},oe=()=>{e().then((e=>{const{"通信状态":a,...t}=e;U.value=t,L.value=a,k.value=l(U.value),k.value.map((e=>(e.value=s(e.value),e))),X.temp=t["温度设定"],X.mode="停机"===t["工作模式"]?0:"制冷"===t["工作模式"]?1:"加热"===t["工作模式"]?2:3,ee.ctlmod="手动"===t["控制模式"]?0:"电芯温度"===t["控制模式"]?1:2,ae.heattemp=t["加热温度"],ae.heatgap=t["加热回差"],ae.cooltemp=t["制冷温度"],ae.coolgap=t["制冷回差"],te(),P.value=setInterval((()=>{oe()}),Q.value)})).catch((e=>{}))};return(e,l)=>{const s=i("el-col"),m=i("el-row"),p=i("el-option"),u=i("el-select"),r=i("el-form-item"),n=i("el-input"),U=i("el-button"),C=i("el-form"),N=i("el-divider"),P=i("el-card"),Q=i("el-table-column"),te=i("el-table");return b(),c("div",S,[f(m,null,{default:v((()=>[f(s,{span:12,class:"col-box"},{default:v((()=>[h("div",A,[E,h("div",R,[f(m,null,{default:v((()=>[f(s,{span:24},{default:v((()=>[F])),_:1}),f(s,{span:24},{default:v((()=>[h("div",{class:"imgdata-value",style:g("color:".concat("正常"==L.value?"#67C23A":"#F56C6C",";"))},_(L.value),5)])),_:1})])),_:1})])]),h("div",B,[h("div",J,[f(P,{class:"box-card"},{header:v((()=>[M])),default:v((()=>[h("div",null,[f(C,{ref_key:"formRef",ref:W,model:X,size:"default"},{default:v((()=>[h("div",O,[h("div",null,[f(r,{label:"工作模式",prop:"mode"},{default:v((()=>[f(u,{modelValue:X.mode,"onUpdate:modelValue":l[0]||(l[0]=e=>X.mode=e),placeholder:"工作模式",style:{width:"208px"}},{default:v((()=>[(b(!0),c(y,null,j(V(z),((e,l)=>(b(),x(p,{key:l,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"温度设定",prop:"temp"},{default:v((()=>[f(n,{modelValue:X.temp,"onUpdate:modelValue":l[1]||(l[1]=e=>X.temp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1})]),h("div",T,[f(U,{class:"btn",type:"primary",onClick:l[2]||(l[2]=e=>(e=>{if(!e)return;if(null===X.temp||""===X.temp)return void d.msgError("请输入温度");let l={mode:X.mode,temp:Number(X.temp)};o(l).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})(W.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"]),f(N,{"border-style":"dashed",class:"oneline"}),f(C,{ref_key:"formRef1",ref:$,model:ee,size:"default"},{default:v((()=>[h("div",Y,[h("div",Z,[f(r,{label:"控制模式",prop:"ctlmod"},{default:v((()=>[f(u,{modelValue:ee.ctlmod,"onUpdate:modelValue":l[3]||(l[3]=e=>ee.ctlmod=e),placeholder:"控制模式",style:{width:"208px"}},{default:v((()=>[(b(!0),c(y,null,j(V(I),((e,l)=>(b(),x(p,{key:l,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})]),h("div",q,[f(U,{class:"btn",type:"primary",onClick:l[4]||(l[4]=e=>(e=>{if(!e)return;if(null===ee.ctlmod)return void d.msgError("请选择控制模式");let l={ctlmod:ee.ctlmod};t(l).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})($.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"]),f(N,{"border-style":"dashed",class:"oneline"}),f(C,{ref_key:"formRef2",ref:le,model:ae,size:"default"},{default:v((()=>[h("div",D,[h("div",G,[f(r,{label:"加热温度",prop:"heattemp"},{default:v((()=>[f(n,{modelValue:ae.heattemp,"onUpdate:modelValue":l[5]||(l[5]=e=>ae.heattemp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"加热回差",prop:"heatgap"},{default:v((()=>[f(n,{modelValue:ae.heatgap,"onUpdate:modelValue":l[6]||(l[6]=e=>ae.heatgap=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"制冷温度",prop:"cooltemp"},{default:v((()=>[f(n,{modelValue:ae.cooltemp,"onUpdate:modelValue":l[7]||(l[7]=e=>ae.cooltemp=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1}),f(r,{label:"制冷回差",prop:"coolgap"},{default:v((()=>[f(n,{modelValue:ae.coolgap,"onUpdate:modelValue":l[8]||(l[8]=e=>ae.coolgap=e),type:"number",style:{width:"208px"}},{append:v((()=>[w("℃")])),_:1},8,["modelValue"])])),_:1})]),h("div",H,[f(U,{class:"btn",type:"primary",onClick:l[9]||(l[9]=e=>(e=>{if(!e)return;let l={heattemp:Number(ae.heattemp),heatgap:Number(ae.heatgap),cooltemp:Number(ae.cooltemp),coolgap:Number(ae.coolgap)};a(l).then((e=>{d.msgSuccess("设置成功")})).catch((e=>{}))})(le.value))},{default:v((()=>[w("设置")])),_:1})])])])),_:1},8,["model"])])])),_:1})])])])),_:1}),f(s,{span:12},{default:v((()=>[h("div",K,[f(te,{data:k.value,stripe:"",border:"",align:"center",style:{width:"100%"}},{default:v((()=>[f(Q,{type:"index",width:"60",align:"center",label:"序号"}),f(Q,{prop:"name",label:"数据名称",align:"center"}),f(Q,{prop:"value",label:"数值",align:"center"}),f(Q,{prop:"unit",label:"单位",align:"center",width:"80"})])),_:1},8,["data"])])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-4f686b30"]]);export{L as default};
