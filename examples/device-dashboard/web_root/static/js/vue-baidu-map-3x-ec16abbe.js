import{o as t,c as e,R as i,H as n,I as o,J as s,P as a,V as r,ag as l,F as c,a7 as h,M as p,a as d}from"./@vue-a06dd9b7.js";var m={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]};function u(t,e){const i=e||m[this.$options.name];i&&i.forEach((e=>{let i="on"===e.slice(0,2)?e.slice(2):e;const n=this.$attrs["on"+i.replace(i[0],i[0].toUpperCase())];n&&t.addEventListener(e,n)}))}function g(t,e={}){const{lng:i,lat:n}=e;return new t.Point(i,n)}function y(t,e={}){const{sw:i,ne:n}=e;return new t.Bounds(g(t,i),g(t,n))}function f(t,e={}){const{width:i,height:n}=e;return new t.Size(i,n)}function v(t,e={}){const{url:i,size:n,opts:o={}}=e;let s={anchor:o.anchor&&f(t,o.anchor),imageSize:o.imageSize&&f(t,o.imageSize),imageOffset:o.imageOffset&&f(t,o.imageOffset),infoWindowAnchor:o.infoWindowAnchor&&f(t,o.infoWindowAnchor),printImageUrl:o.printImageUrl};return k(s),new t.Icon(i,f(t,n),s)}function b(t,e={}){const{symbol:i,offset:n,repeat:o,fixedRotation:s}=e;return new t.IconSequence(i&&function(t,e={}){const{path:i,opts:n}=e;let o={anchor:n.anchor&&f(t,n.anchor),fillColor:n.fillColor,fillOpacity:n.fillOpacity,scale:n.scale,rotation:n.rotation,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokeWeight:n.strokeWeight};return k(o),new t.Symbol(window[i]||i,o)}(t,i),n,o,s)}const w=t=>t.lng&&t.lat,_=t=>Object.prototype.toString.call(t).slice(8,-1),M=(t,e)=>w(e)?g(t,e):e,k=t=>{Object.keys(t).forEach((e=>{void 0===t[e]&&delete t[e]}))};let C={v:"3.0",type:"API"};const x=(t={})=>{C=Object.assign(C,t),C.ak},I=()=>C;var S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},B={exports:{}};function O(){}O.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function o(){n.off(t,o),e.apply(i,arguments)}return o._=e,this.on(t,o,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],o=[];if(n&&e)for(var s=0,a=n.length;s<a;s++)n[s].fn!==e&&n[s].fn._!==e&&o.push(n[s]);return o.length?i[t]=o:delete i[t],this}},B.exports=O,B.exports.TinyEmitter=O;var P=new(0,B.exports),T=(...t)=>P.on(...t),E=(...t)=>P.off(...t),L=(...t)=>P.emit(...t);const A={API:{"2.0":{setMapStyle:"setMapStyle",NavigationControl:"NavigationControl"},"3.0":{setMapStyle:"setMapStyleV2",NavigationControl:"NavigationControl"}},WebGL:{setMapStyle:"setMapStyleV2",NavigationControl:"NavigationControl3D"}},z=t=>{const e=I();return"WebGL"==e.type?A[e.type][t]:A[e.type][e.v][t]};let $;new Promise((t=>{$=t}));var R=(t,e)=>{const i=t.__vccOpts||t;for(const[n,o]of e)i[n]=o;return i};const D={name:"bm-map",inheritAttrs:!1,emits:["ready","init","animationed"],props:{ak:{type:String},v:{type:String},type:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object},hasAnimation:{type:Boolean,default:!0},defaultAnimation:{type:Boolean,default:!0},preserveDrawingBuffer:{type:Boolean,default:!1}},watch:{center(t,e){const{map:i,zoom:n}=this;"String"===_(t)&&t!==e&&this.setCenterZoom(i,t,n)},"center.lng"(t,e){const{BMap:i,map:n,zoom:o,center:s}=this;t!==e&&t>=-180&&t<=180&&this.setCenterZoom(n,new i.Point(t,s.lat),o)},"center.lat"(t,e){const{BMap:i,map:n,zoom:o,center:s}=this;t!==e&&t>=-74&&t<=74&&this.setCenterZoom(n,new i.Point(s.lng,t),o)},zoom(t,e){const{map:i}=this;t!==e&&t>=3&&t<=19&&i.setZoom(t)},minZoom(t){const{map:e}=this;e.setMinZoom(t)},maxZoom(t){const{map:e}=this;e.setMaxZoom(t)},highResolution(){this.reset()},mapClick(){this.reset()},mapType(t){const{map:e}=this;e.setMapType(window[t])},dragging(t){const{map:e}=this;t?e.enableDragging():e.disableDragging()},scrollWheelZoom(t){const{map:e}=this;t?e.enableScrollWheelZoom():e.disableScrollWheelZoom()},doubleClickZoom(t){const{map:e}=this;t?e.enableDoubleClickZoom():e.disableDoubleClickZoom()},keyboard(t){const{map:e}=this;t?e.enableKeyboard():e.disableKeyboard()},inertialDragging(t){const{map:e}=this;t?e.enableInertialDragging():e.disableInertialDragging()},continuousZoom(t){const{map:e}=this;t?e.enableContinuousZoom():e.disableContinuousZoom()},pinchToZoom(t){const{map:e}=this;t?e.enablePinchToZoom():e.disablePinchToZoom()},autoResize(t){const{map:e}=this;t?e.enableAutoResize():e.disableAutoResize()},theme(t){const{map:e}=this;e[z("setMapStyle")]({styleJson:t})},mapStyle:{handler(t){const{map:e,theme:i}=this;!i&&e[z("setMapStyle")](t)},deep:!0}},methods:{setMapOptions(){const{map:t,minZoom:e,maxZoom:i,mapType:n,dragging:o,scrollWheelZoom:s,doubleClickZoom:a,keyboard:r,inertialDragging:l,continuousZoom:c,pinchToZoom:h,autoResize:p}=this;e&&t.setMinZoom(e),i&&t.setMaxZoom(i),n&&t.setMapType(window[n]),o?t.enableDragging():t.disableDragging(),s?t.enableScrollWheelZoom():t.disableScrollWheelZoom(),a?t.enableDoubleClickZoom():t.disableDoubleClickZoom(),r?t.enableKeyboard():t.disableKeyboard(),l?t.enableInertialDragging():t.disableInertialDragging(),c?t.enableContinuousZoom():t.disableContinuousZoom(),h?t.enablePinchToZoom():t.disablePinchToZoom(),p?t.enableAutoResize():t.disableAutoResize()},init(t){if(this.map)return;let e=this.$refs.view;this.$slots.default;const i=new t.Map(e,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick,preserveDrawingBuffer:this.preserveDrawingBuffer});this.map=i;const{setMapOptions:n,zoom:o,getCenterPoint:s,theme:a,mapStyle:r}=this;n(),u.call(this,i),i.reset(),this.setCenterZoom(i,s(),o),a?i[z("setMapStyle")]({styleJson:a}):r&&i[z("setMapStyle")](r);let l=0;this.$emit("init",{BMap:t,map:i}),L("init",{BMap:t,map:i}),i.addEventListener("tilesloaded",(()=>{l||(l++,this.$emit("ready",{BMap:t,map:i}),L("ready",{BMap:t,map:i}))})),i.addEventListener("loaded",(()=>{this.$emit("loaded",{BMap:t,map:i}),L("loaded",{BMap:t,map:i})}))},setCenterZoom(t,e,i){"WebGL"===I().type?this.hasAnimation&&this.defaultAnimation?t.centerAndZoom(e,i):t.setCenter(e,{noAnimation:!this.hasAnimation,callback:()=>{t.setZoom(i,{noAnimation:!this.hasAnimation,zoomCenter:e,callback:()=>{this.$emit("animationed",{BMap:this.BMap,map:t})}})}}):t.centerAndZoom(e,i)},getCenterPoint(){const{center:t,BMap:e}=this;switch(_(t)){case"String":return t;case"Object":return new e.Point(t.lng,t.lat);default:return new e.Point}},initMap(t){this.BMap=t,this.init(t),$(t)},getMapScript:()=>window.BMap?window.BMap._preloader?window.BMap._preloader:Promise.resolve(window.BMap):(window.BMap={},window.BMap._preloader=new Promise(((t,e)=>{window._initBaiduMap=function(){window.BMap="WebGL"==I().type?window.BMapGL:window.BMap,t(window.BMap),window.document.body.removeChild(i),window.BMap._preloader=null,window._initBaiduMap=null};const i=document.createElement("script");if(window.document.body.appendChild(i),"WebGL"===I().type)i.src=`https://api.map.baidu.com/api?v=1.0&type=webgl&ak=${I().ak}&callback=_initBaiduMap`;else i.src=`https://api.map.baidu.com/api?v=${I().v}&ak=${I().ak}&callback=_initBaiduMap`})),window.BMap._preloader),reset(){const{getMapScript:t,initMap:e}=this;t().then(e)}},created(){const t={};this.ak&&(t.ak=this.ak),this.v&&(t.v=this.v),this.type&&(t.type=this.type),x(t)},mounted(){this.reset()},data:()=>({hasBmView:!1,map:null,BMap:null,name:"bm-map"})},W={key:0,ref:"view",style:{width:"100%",height:"100%"}};var F=R(D,[["render",function(a,r,l,c,h,p){return t(),e("div",{class:o(a.$attrs.class),style:s(a.$attrs.style)},[h.hasBmView?i("",!0):(t(),e("div",W,null,512)),n(a.$slots,"default")],6)}]]);const N={control:{unload:"removeControl"},layer:{unload:"removeTileLayer"},overlay:{unload:"removeOverlay"},contextMenu:{unload:"removeContextMenu"}},j=t=>t.abstract||"bm-map"!==t.name?j(t.$parent):t;function Z(){const{unload:t,renderByParent:e,$parent:i,ready:n}=this;E("ready",n),e&&i.reload(),t()}const V=(t={})=>({emits:["ready"],computed:{renderByParent(){return this.$parent.preventChildrenRender}},created(){const t=j(this.$parent),e=t.map,{ready:i}=this;e?i():T("ready",i),e?this.init({BMap:t.BMap,map:e}):T("init",this.init)},mounted(){const t=j(this.$parent).map,{mountedReady:e}=this;t?e():T("ready",e)},unmounted:Z,methods:{init(){},ready(){const t=j(this.$parent),e=this.BMap=t.BMap,i=this.map=t.map;this.load(),this.$emit("ready",{BMap:e,map:i})},mountedReady(){this.mountedLoad()},transmitEvent(t){this.$emit(t.type.replace(/^on/,""),t)},reload(){this&&this.BMap&&this.$nextTick((()=>{this.unload(),this.$nextTick((()=>{this.load(),this.mountedLoad()}))}))},unload(){const{map:e,originInstance:i}=this;try{switch(t.type){case"search":return i.clearResults();case"autoComplete":case"lushu":return i.dispose();case"markerClusterer":return i.clearMarkers();default:e[N[t.type].unload](i)}}catch(n){}},mountedLoad(){}}});var H=t=>V({type:t});const G={name:"bm-scale",render(){},mixins:[H("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor(){this.reload()},offset(){this.reload()}},methods:{load(){const{BMap:t,map:e,anchor:i,offset:n}=this;this.originInstance=new t.ScaleControl({anchor:window[i],offset:n&&f(t,n)}),e.addControl(this.originInstance)}}},U={name:"bm-navigation",render(){},mixins:[H("control")],props:{anchor:{type:String},offset:{type:Object},type:{type:String},showZoomInfo:{type:Boolean},enableGeolocation:{type:Boolean,default:!1}},watch:{anchor(){this.reload()},offset(){this.reload()},type(){this.reload()},showZoomInfo(){this.reload()}},methods:{load(){const{BMap:t,map:e,anchor:i,offset:n,type:o,showZoomInfo:s,enableGeolocation:a}=this;let r={anchor:window[i],offset:n&&f(t,n),type:window[o],showZoomInfo:s,enableGeolocation:a};k(r),this.originInstance=new(t[z("NavigationControl")])(r),e.addControl(this.originInstance)}}},q={name:"bm-map-type",render(){},mixins:[H("control")],props:["type","mapTypes","anchor","offset"],watch:{anchor(){this.reload()},offset(){this.reload()},type(){this.reload()},mapTypes(){this.reload()}},methods:{load(){const{BMap:t,map:e,anchor:i,offset:n,type:o}=this,s=[];this.mapTypes&&this.mapTypes.forEach((t=>s.push(window[t])));let a={anchor:window[i],offset:n&&f(t,n),type:window[o],mapTypes:s};k(a),this.originInstance=new t.MapTypeControl(a),e.addControl(this.originInstance)}}},K={name:"bm-overview-map",mixins:[H("control")],render(){},props:{anchor:{type:String},offset:{type:Object},size:{type:Object},isOpen:{type:Boolean}},watch:{anchor(){this.reload()},offset(){this.reload()},size(){this.reload()},isOpen(){this.reload()}},methods:{load(){const{BMap:t,map:e,isOpen:i,size:n,offset:o,anchor:s}=this;this.mapTypes&&this.mapTypes.forEach((t=>{}));let a={anchor:window[s],offset:f(t,o),size:f(t,n),isOpen:i};k(a),this.originInstance=new t.OverviewMapControl(a),u.call(this,this.originInstance),e.addControl(this.originInstance)}}},X={name:"bm-geolocation",render(){},mixins:[H("control")],props:{anchor:{type:String},offset:{type:Object},showAddressBar:{type:Boolean},autoLocation:{type:Boolean},locationIcon:{type:Object}},watch:{anchor(){this.reload()},offset(){this.reload()},showAddressBar(){this.reload()},autoLocation(){this.reload()},locationIcon(){this.reload()}},methods:{load(){const{BMap:t,map:e,anchor:i,showAddressBar:n,autoLocation:o,locationIcon:s,offset:a}=this;let r={anchor:window[i],showAddressBar:n,enableAutoLocation:o,offset:a&&f(t,a),locationIcon:s&&v(t,s)};if(k(r),"WebGL"===I().type)this.originInstance=new t.LocationControl(r);else this.originInstance=new t.GeolocationControl(r);u.call(this,this.originInstance),e.addControl(this.originInstance)}}},J={name:"bm-copyright",render(){},mixins:[H("control")],props:["anchor","offset","copyright"],watch:{anchor(){this.reload()},offset(){this.reload()},copyright(){this.reload()}},methods:{load(){const{BMap:t,map:e,offset:i,anchor:n,updateCopyrightList:o}=this;this.originInstance=new t.CopyrightControl({anchor:window[n],offset:i&&f(t,i)}),o(),e.addControl(this.originInstance)},updateCopyrightList(){const{BMap:t,map:e}=this,{removeCopyright:i,getCopyrightCollection:n}=this.originInstance,o=n();o&&o.forEach((t=>{i(t.id)})),this.copyright&&this.copyright.forEach((i=>{const n=i.bounds?new t.Bounds(new t.Point(i.bounds.sw.lng,i.bounds.sw.lat),new t.Point(i.bounds.ne.lng,i.bounds.ne.lat)):e.getBounds();this.originInstance.addCopyright({id:i.id,content:i.content,bounds:n})}))}}},Q={name:"bm-city-list",render(){},emits:["changeBefore","changeAfter"],mixins:[H("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor(){this.reload()},offset(){this.reload()}},methods:{load(){const{BMap:t,map:e,anchor:i,offset:n}=this,o=this;this.originInstance=new t.CityListControl({anchor:window[i],offset:n&&f(t,n),onChangeBefore(){o.$emit("changeBefore")},onChangeAfter(){o.$emit("changeAfter")}}),e.addControl(this.originInstance)}}},Y={name:"bm-panorama",mixins:[H("control")],render(){},props:["anchor","offset"],watch:{anchor(){this.reload()},offset(){this.reload()}},methods:{load(){const{BMap:t,map:e,anchor:i,offset:n}=this;this.originInstance=new t.PanoramaControl({anchor:window[i],offset:n&&f(t,n)}),e.addControl(this.originInstance)}}};var tt=R({name:"bm-control",mixins:[H("control")],props:["anchor","offset"],watch:{anchor(t){this.originInstance.setAnchor(t)},offset(t){this.originInstance.setOffset(t)}},methods:{load(){const{BMap:t,map:e,anchor:i,offset:n,$el:o}=this,s=function(){this.defaultAnchor=window[i||"BMAP_ANCHOR_TOP_LEFT"],this.defaultOffset=f(t,n)};(s.prototype=new t.Control).initialize=t=>t.getContainer().appendChild(o),this.originInstance=new s,e.addControl(this.originInstance)}}},[["render",function(i,o,s,a,r,l){return t(),e("div",null,[n(i.$slots,"default")])}]]);var et=R({name:"bm-marker",mixins:[H("overlay")],inject:{Cluster:{default:()=>({})}},props:{position:{},offset:{},icon:{},massClear:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1},clicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{type:String},rotation:{type:Number},shadow:{type:Object},title:{type:String},label:{type:Object},animation:{type:String},top:{type:Boolean,default:!1},zIndex:{type:Number,default:0}},watch:{"position.lng"(t,e){const{BMap:i,originInstance:n,position:o,renderByParent:s,$parent:a}=this;t!==e&&t>=-180&&t<=180&&n.setPosition(g(i,{lng:t,lat:o.lat})),s&&a.reload()},"position.lat"(t,e){const{BMap:i,originInstance:n,position:o,renderByParent:s,$parent:a}=this;t!==e&&t>=-74&&t<=74&&n.setPosition(g(i,{lng:o.lng,lat:t})),s&&a.reload()},"offset.width"(t,e){const{BMap:i,originInstance:n}=this;t!==e&&n.setOffset(new i.Size(t,this.offset.height))},"offset.height"(t,e){const{BMap:i,originInstance:n}=this;t!==e&&n.setOffset(new i.Size(this.offset.width,t))},icon:{deep:!0,handler(t){const{BMap:e,originInstance:i,rotation:n}=this;i&&i.setIcon(v(e,t)),n&&i&&i.setRotation(n)}},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},dragging(t){t?this.originInstance.enableDragging():this.originInstance.disableDragging()},clicking(){this.reload()},raiseOnDrag(){this.reload()},draggingCursor(t){this.originInstance.setDraggingCursor(t)},rotation(t){this.originInstance.setRotation(t)},shadow(t){this.originInstance.setShadow(t)},title(t){this.originInstance.setTitle(t)},label(t){this.reload()},animation(t){this.originInstance.setAnimation(window[t])},top(t){this.originInstance.setTop(t)},zIndex(t){this.originInstance.setZIndex(t)}},methods:{load(){var t,e;const{BMap:i,map:n,position:o,offset:s,icon:a,massClear:r,dragging:l,clicking:c,raiseOnDrag:h,draggingCursor:p,rotation:d,shadow:m,title:y,label:b,animation:w,top:_,renderByParent:M,$parent:C,zIndex:x}=this;let I={offset:s,icon:a&&v(i,a),enableMassClear:r,enableDragging:l,enableClicking:c,raiseOnDrag:h,draggingCursor:p,rotation:d,shadow:m,title:y};k(I);const S=new i.Marker(new i.Point(o.lng,o.lat),I);this.originInstance=S,b&&S&&S.setLabel(function(t,e={}){const{content:i,opts:n}=e;let o={offset:n.offset&&f(t,n.offset),position:n.position&&g(t,n.position),enableMassClear:n.enableMassClear};return k(o),new t.Label(i,o)}(i,b)),S.setTop(_),S.setZIndex(x),u.call(this,S),M?C.reload():n.addOverlay(S),S.setAnimation(window[w]),null==(e=null==(t=this.Cluster)?void 0:t.addMaker)||e.call(t,this)}},beforeUnmount(){var t,e;null==(e=null==(t=this.Cluster)?void 0:t.removeMaker)||e.call(t,this)}},[["render",function(i,o,s,a,r,l){return t(),e("div",null,[n(i.$slots,"default")])}]]);const it={render(){},name:"bm-point-collection",mixins:[H("overlay")],props:{points:{type:Array,default:()=>[]},shape:{type:String,default:"BMAP_POINT_SHAPE_CIRCLE"},color:{type:String},size:{type:String,default:"BMAP_POINT_SIZE_NORMAL"}},watch:{shape(t){const{originInstance:e,color:i,size:n}=this;e.setStyles({shape:window[t],color:i,size:window[n]})},size(t){const{originInstance:e,color:i,shape:n}=this;e.setStyles({shape:window[n],color:i,size:window[t]})},color(t){const{originInstance:e,shape:i,size:n}=this;e.setStyles({shape:window[i],color:t,size:window[n]})},points:{deep:!0,handler(t){const{originInstance:e}=this;e.clear(),e.setPoints(t)}}},methods:{load(){},init({BMap:t,map:e}){this.$emit("init",{BMap:t,map:e});const{points:i,shape:n,color:o,size:s}=this;let a={shape:window[n],color:o,size:window[s]};k(a);const r=this.originInstance=new t.PointCollection(i.map((e=>g(t,e))),a);u.call(this,r),e.addOverlay(r)}}},nt={name:"bm-polyline",render(){},mixins:[H("overlay")],props:{path:{type:Array},strokeColor:{type:String,default:"blue"},strokeWeight:{type:Number,default:2},strokeOpacity:{type:Number,default:.5},strokeStyle:{type:String,default:"solid"},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1},icons:{type:Array,default:()=>[]}},watch:{path:{handler(t,e){this.reload()},deep:!0},icons:{handler(t,e){this.reload()},deep:!0},strokeColor(t){this.originInstance.setStrokeColor(t)},strokeOpacity(t){this.originInstance.setStrokeOpacity(t)},strokeWeight(t){this.originInstance.setStrokeWeight(t)},strokeStyle(t){this.originInstance.setStrokeStyle(t)},editing(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking(t){this.reload()}},computed:{iconSequences(){const{BMap:t,icons:e}=this;return e.map((e=>b(t,e)))}},methods:{load(){const{BMap:t,map:e,path:i,strokeColor:n,strokeWeight:o,strokeOpacity:s,strokeStyle:a,editing:r,massClear:l,clicking:c,iconSequences:h}=this;let p={strokeColor:n,strokeWeight:o,strokeOpacity:s,strokeStyle:a,enableEditing:r,enableMassClear:l,enableClicking:c,icons:h};k(p);const d=new t.Polyline(i.map((e=>g(t,{lng:e.lng,lat:e.lat}))),p);this.originInstance=d,e.addOverlay(d),u.call(this,d)}}},ot={name:"bm-polygon",render(){},mixins:[H("overlay")],props:{path:{type:Array,default:()=>[]},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{path:{handler(t,e){this.reload()},deep:!0},strokeColor(t){this.originInstance.setStrokeColor(t)},strokeOpacity(t){this.originInstance.setStrokeOpacity(t)},strokeWeight(t){this.originInstance.setStrokeWeight(t)},strokeStyle(t){this.originInstance.setStrokeStyle(t)},fillColor(t){this.originInstance.setFillColor(t)},fillOpacity(t){this.originInstance.setFillOpacity(t)},editing(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking(t){this.reload()}},methods:{load(){const{BMap:t,map:e,path:i,strokeColor:n,strokeWeight:o,strokeOpacity:s,strokeStyle:a,fillColor:r,fillOpacity:l,editing:c,massClear:h,clicking:p}=this;let d={strokeColor:n,strokeWeight:o,strokeOpacity:s,strokeStyle:a,fillColor:r,fillOpacity:l,enableMassClear:h,enableClicking:p};k(d);const m=new t.Polygon(i.map((e=>g(t,{lng:e.lng,lat:e.lat}))),d);this.originInstance=m,e.addOverlay(m),u.call(this,m),c?m.enableEditing():m.disableEditing()}}},st={name:"bm-circle",render(){},mixins:[H("overlay")],props:{center:{},radius:{},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{"center.lng"(t,e){const{BMap:i,originInstance:n,isEditing:o,disableEditing:s,enableEditing:a,center:r,editing:l}=this;if(!o){s();const o=t;t.toString()!==e.toString()&&o>=-180&&o<=180&&n.setCenter(g(i,{lng:o,lat:r.lat})),l&&a()}},"center.lat"(t,e){const{BMap:i,originInstance:n,isEditing:o,disableEditing:s,enableEditing:a,center:r,editing:l}=this;if(!o){s();const o=t;t.toString()!==e.toString()&&o>=-74&&o<=74&&n.setCenter(g(i,{lng:r.lng,lat:o})),l&&a()}},radius(t,e){const{originInstance:i,isEditing:n,disableEditing:o,enableEditing:s,editing:a}=this;n||(o(),i.setRadius(t),a&&s())},strokeColor(t){this.originInstance.setStrokeColor(t)},strokeOpacity(t){this.originInstance.setStrokeOpacity(t)},strokeWeight(t){this.originInstance.setStrokeWeight(t)},strokeStyle(t){this.originInstance.setStrokeStyle(t)},fillColor(t){this.originInstance.setFillColor(t)},fillOpacity(t){this.originInstance.setFillOpacity(t)},editing(t){t?this.enableEditing():this.disableEditing()},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking(t){this.reload()}},methods:{dragStartHandler(){this.isEditing=!0},dragEndHandler(){this.isEditing=!1,this.bindEditingNodeEvents()},bindEditingNodeEvents(){const{originInstance:t,editingKey:e,dragStartHandler:i,dragEndHandler:n}=this;t[e]&&t[e].forEach((t=>{t.addEventListener("dragstart",i),t.addEventListener("dragend",n)}))},enableEditing(){const{originInstance:t,bindEditingNodeEvents:e}=this;t.enableEditing(),e()},disableEditing(){const{originInstance:t}=this;t.disableEditing()},getEditingKey(t){const e=[];t.enableEditing(),setTimeout((()=>{for(const i in t)t[i]&&2===t[i].length&&e.push(i);t.disableEditing();for(const i in t)t[i]&&0===t[i].length&&~e.indexOf(i)&&(this.editingKey=i)}),0)},load(){const{BMap:t,map:e,center:i,radius:n,strokeColor:o,strokeWeight:s,strokeOpacity:a,strokeStyle:r,fillColor:l,fillOpacity:c,editing:h,massClear:p,clicking:d,enableEditing:m,disableEditing:y,getEditingKey:f,editingKey:v}=this;let b={strokeColor:o,strokeWeight:s,strokeOpacity:a,strokeStyle:r,fillColor:l,fillOpacity:c,enableMassClear:p,enableClicking:d};k(b);const w=new t.Circle(g(t,{lng:i.lng,lat:i.lat}),n,b);this.originInstance=w,e.addOverlay(w),u.call(this,w),!v&&f(w),setTimeout((()=>{h?m():y()}),0)}}},at={name:"bm-ground",render(){},mixins:[H("overlay")],props:{bounds:{type:Object},opacity:{type:Number},imageURL:{type:String},displayOnMinLevel:{type:Number},displayOnMaxLevel:{type:Number}},watch:{bounds:{handler(t){const{BMap:e}=this;this.originInstance.setBounds(y(e,t))},deep:!0},opacity(t){this.originInstance.setOpacity(t)},imageURL(t){this.originInstance.setImageURL(t)},displayOnMinLevel(t){this.originInstance.setDisplayOnMinLevel(t)},displayOnMaxLevel(t){this.originInstance.setDisplayOnMaxLevel(t)}},methods:{load(){const{BMap:t,map:e,bounds:i,opacity:n,imageURL:o,displayOnMinLevel:s,displayOnMaxLevel:a}=this;let r={opacity:n,imageURL:o,displayOnMaxLevel:a,displayOnMinLevel:s};k(r);const l=new t.GroundOverlay(i&&y(t,i),r);l.setImageURL(o),this.originInstance=l,u.call(this,l),e.addOverlay(l)}}},rt={name:"bm-label",render(){},mixins:[H("overlay")],props:{content:{type:String},title:{type:String},offset:{},position:{},labelStyle:{},zIndex:{type:Number,default:0},massClear:{type:Boolean,default:!0}},watch:{content(t){this.originInstance.setContent(t)},title(t){this.originInstance.setTitle(t)},"offset.width"(t,e){const{BMap:i}=this;t.toString()!==e.toString()&&this.originInstance.setOffset(f(i,{width:t,height:this.offset.height}))},"offset.height"(t,e){const{BMap:i}=this;t.toString()!==e.toString()&&this.originInstance.setOffset(f(i,{width:this.offset.width,height:t}))},"position.lng"(t,e){const{BMap:i}=this,n=t;t.toString()!==e.toString()&&n>=-180&&n<=180&&this.originInstance.setPosition(g(i,{lng:n,lat:this.position.lat}))},"position.lat"(t,e){const{BMap:i}=this,n=t;t.toString()!==e.toString()&&n>=-74&&n<=74&&this.originInstance.setPosition(g(i,{lng:this.position.lng,lat:n}))},labelStyle:{handler(t){this.originInstance.setStyle(t)},deep:!0},zIndex(t){this.originInstance.setZIndex(t)},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()}},methods:{load(){const{BMap:t,map:e,content:i,title:n,offset:o,position:s,labelStyle:a,zIndex:r,massClear:l,$parent:c}=this;let h={offset:f(t,o),position:g(t,s),enableMassClear:l};k(h);const p=new t.Label(i,h);this.originInstance=p;try{c.originInstance.setLabel(p)}catch(d){e.addOverlay(p)}n&&p.setTitle(n),a&&p.setStyle(a),r&&p.setZIndex(r),u.call(this,p)}}};var lt=R({name:"bm-info-window",mixins:[H("overlay")],props:{show:{type:Boolean},position:{type:Object},title:{type:String},width:{type:Number},height:{type:Number},maxWidth:{type:Number},offset:{type:Object},maximize:{type:Boolean},autoPan:{type:Boolean},closeOnClick:{type:Boolean,default:!0},message:{type:String}},watch:{show(t){t?this.openInfoWindow():this.closeInfoWindow()},"position.lng"(t,e){this.reload()},"position.lat"(t,e){this.reload()},"offset.width"(t,e){this.reload()},"offset.height"(t){this.reload()},maxWidth(){this.reload()},width(t){this.originInstance.setWidth(t)},height(t){this.originInstance.setHeight(t)},title(t){this.originInstance.setTitle(t)},maximize(t){t?this.originInstance.enableMaximize():this.originInstance.disableMaximize()},autoPan(t){t?this.originInstance.enableAutoPan():this.originInstance.disableAutoPan()},closeOnClick(t){t?this.originInstance.enableCloseOnClick():this.originInstance.disableCloseOnClick()}},methods:{redraw(){this.originInstance.redraw()},load(){const{BMap:t,map:e,show:i,title:n,width:o,height:s,maxWidth:a,offset:r,autoPan:l,closeOnClick:c,message:h,maximize:p,bindObserver:d,$parent:m}=this,g=this.$el;let y={width:o,height:s,title:n,maxWidth:a,offset:r&&f(t,r),enableAutoPan:l,enableCloseOnClick:c,enableMessage:void 0===h,message:h};k(y);const v=new t.InfoWindow(g,y);p?v.enableMaximize():v.disableMaximize(),u.call(this,v),this.originInstance=v,v.redraw(),[].forEach.call(g.querySelectorAll("img"),(t=>{t.onload=()=>v.redraw()})),d(),this.$container=m.originInstance&&m.originInstance.openInfoWindow?m.originInstance:e,i&&this.openInfoWindow()},bindObserver(){const t=window.MutationObserver;if(!t)return;const{$el:e,originInstance:i}=this;this.observer=new t((t=>i.redraw())),this.observer.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},openInfoWindow(){const{BMap:t,$container:e,position:i,originInstance:n}=this;e.openInfoWindow(n,g(t,i||this.$parent.position))},closeInfoWindow(){this.$container.closeInfoWindow(this.originInstance)}}},[["render",function(i,o,s,l,c,h){return a((t(),e("div",null,[n(i.$slots,"default")],512)),[[r,s.show]])}]]);var ct=R({name:"bm-overlay",emits:["initialize","draw"],mixins:[H("overlay")],props:{pane:{type:String}},watch:{pane(){this.reload()}},methods:{load(){},mountedLoad(){const{BMap:t,map:e,$el:i,pane:n}=this,o=this.$emit.bind(this);class s extends t.Overlay{initialize(){o("initialize",{BMap:t,map:e,el:i,overlay:this});try{e.getPanes()[n].appendChild(i)}catch(s){}return i}draw(){o("draw",{BMap:t,map:e,el:i,overlay:this})}}const a=new s;this.originInstance=a,e.addOverlay(a)}}},[["render",function(i,o,s,a,r,l){return t(),e("div",null,[n(i.$slots,"default")])}]]);var ht=R({name:"bm-context-menu",props:{width:{type:Number}},mixins:[H("contextMenu")],methods:{load(){const{width:t,BMap:e,map:i,$parent:n}=this,o=this.parent=n.originInstance||i;this.originInstance&&o.removeContextMenu(this.originInstance);const s=this.originInstance=new e.ContextMenu;if(this.$slots.default)for(const a of this.$slots.default()||[]){const n=a.props;if(n.seperator){s.addSeparator();continue}const r=new e.MenuItem(n.text,(function(t,s){n.callback&&n.callback({point:t,pixel:s,BMap:e,map:i,target:o})}),{width:t,id:n.id,iconUrl:n.iconUrl});n.disabled?r.disable():r.enable(),n.originInstance=r,s.addItem(r)}o.addContextMenu(s)}}},[["render",function(i,o,s,a,r,l){return t(),e("div",null,[n(i.$slots,"default")])}]]);var pt=R({name:"bm-context-menu-item",props:{callback:{type:Function,default:function(){}},text:{type:String},iconUrl:{type:String},id:{type:String},disabled:{type:Boolean},seperator:{type:Boolean},originInstance:{}},methods:{reload(){this.$parent.map&&this.$parent.load()}},watch:{text(){this.reload()},iconUrl(){this.reload()},id(){this.reload()},disabled(){this.reload()},iseperator(){this.reload()},callback(){this.reload()}},destroyed(){this.reload()},mounted(){this.reload()}},[["render",function(i,o,s,a,r,l){return t(),e("span",null,[n(i.$slots,"default")])}]]);var dt=R({name:"bm-local-search",emits:["markersset","infohtmlset","resultshtmlset","searchcomplete"],mixins:[H("search")],props:{location:{type:[Object,String]},keyword:{type:[Array,String]},panel:{type:Boolean,default:!0},forceLocal:{type:Boolean},customData:{type:Object},bounds:{type:Object},nearby:{type:Object},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,search:i}=this;e.setLocation(t||this.map),i()},deep:!0},keyword(){this.search()},bounds:{handler(t){const{searchInBounds:e}=this;e(t)},deep:!0},nearby:{handler(t){const{searchNearby:e}=this;e(t)},deep:!0},forceLocal(){this.reload()},customData:{deep:!0,handler(){this.reload()}},pageCapacity(t){this.originInstance&&this.originInstance.setPageCapacity(t)},autoViewport(t){this.originInstance&&(t?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult(t){this.originInstance&&(t?this.originInstance.enableFirstResultSelection():this.originInstance.disableFirstResultSelection())},highlightMode(){this.reload()}},methods:{searchNearby(t){const{originInstance:e,keyword:i,customData:n,BMap:o}=this;e.searchNearby(i,g(o,t.center),t.radius,n)},searchInBounds(t){const{originInstance:e,keyword:i,customData:n,BMap:o}=this;e.searchInBounds(i,y(o,t),n)},search(){const{originInstance:t,keyword:e,forceLocal:i,customData:n,nearby:o,bounds:s,searchNearby:a,searchInBounds:r}=this;o?a(o):s?r(s):t.search(e,{forceLocal:i,customData:n})},load(){const t=this,{map:e,BMap:i,search:n,pageCapacity:o,autoViewport:s,selectFirstResult:a,highlightMode:r,location:l,originInstance:c}=this,h=l?w(l)?g(i,l):l:e,p=this.originInstance=new i.LocalSearch(h,{onMarkersSet(e){t.$emit("markersset",e)},onInfoHtmlSet(e){t.$emit("infohtmlset",e)},onResultsHtmlSet(e){t.$emit("resultshtmlset",e)},onSearchComplete(e){c&&c!==p&&c.clearResults(),t.$emit("searchcomplete",e)},pageCapacity:o,renderOptions:{map:e,panel:this.$el,selectFirstResult:a,autoViewport:s,highlightMode:r}});n()}}},[["render",function(i,o,s,l,c,h){return a((t(),e("div",null,[n(i.$slots,"default")],512)),[[r,s.panel]])}]]);var mt=R({name:"bm-transit",emits:["searchcomplete","markersset","infohtmlset","polylinesset","resultshtmlset"],mixins:[H("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},policy:{type:String},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,map:i}=this;e.setLocation(t||i)},deep:!0},start:{handler(t){const{originInstance:e,end:i,BMap:n}=this;e.search(M(n,t),M(n,i))},deep:!0},end:{handler(t){const{originInstance:e,start:i,BMap:n}=this;e.search(M(n,i),M(n,t))},deep:!0},panel(){this.reload()},policy(t){this.originInstance.setPolicy(window[t])},pageCapacity(t){this.originInstance&&this.originInstance.setPageCapacity(t)},autoViewport(t){this.originInstance&&(t?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult(){this.reload()},highlightMode(){this.reload()}},methods:{search(t,e){const{originInstance:i}=this;i.search(t,e)},load(){const t=this,{map:e,BMap:i,location:n,policy:o,pageCapacity:s,selectFirstResult:a,autoViewport:r,highlightMode:l,search:c,start:h,end:p,originInstance:d}=this,m=n?w(n)?g(i,n):n:e,u=this.originInstance=new i.TransitRoute(m,{renderOptions:{map:e,panel:this.$el,selectFirstResult:a,autoViewport:r,highlightMode:l},policy:window[o],pageCapacity:s,onSearchComplete(e){d&&d!==u&&d.clearResults(),t.$emit("searchcomplete",e)},onMarkersSet(e){t.$emit("markersset",e)},onInfoHtmlSet(e){t.$emit("infohtmlset",e)},onPolylinesSet(e){t.$emit("polylinesset",e)},onResultsHtmlSet(e){t.$emit("resultshtmlset",e)}});c(w(h)?g(i,h):h,w(p)?g(i,p):p)}}},[["render",function(i,o,s,l,c,h){return a((t(),e("div",null,[n(i.$slots,"default")],512)),[[r,s.panel]])}]]);var ut=R({name:"bm-walking",emits:["searchcomplete","markersset","infohtmlset","polylinesset","resultshtmlset"],mixins:[H("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,map:i}=this;e.setLocation(t||i)},deep:!0},start:{handler(t){const{originInstance:e,end:i,BMap:n}=this;e.search(M(n,t),M(n,i))},deep:!0},end:{handler(t){const{originInstance:e,start:i,BMap:n}=this;e.search(M(n,i),M(n,t))},deep:!0},panel(){this.reload()},autoViewport(t){this.reload()},selectFirstResult(t){this.reload()},highlightMode(){this.reload()}},methods:{search(t,e){const{originInstance:i}=this;i.search(t,e)},load(){const t=this,{map:e,BMap:i,location:n,selectFirstResult:o,autoViewport:s,highlightMode:a,search:r,start:l,end:c,originInstance:h}=this,p=n?w(n)?g(i,n):n:e,d=this.originInstance=new i.WalkingRoute(p,{renderOptions:{map:e,panel:this.$el,selectFirstResult:o,autoViewport:s,highlightMode:a},onSearchComplete(e){h&&h!==d&&h.clearResults(),t.$emit("searchcomplete",e)},onMarkersSet(e){t.$emit("markersset",e)},onInfoHtmlSet(e){t.$emit("infohtmlset",e)},onPolylinesSet(e){t.$emit("polylinesset",e)},onResultsHtmlSet(e){t.$emit("resultshtmlset",e)}});r(w(l)?g(i,l):l,w(c)?g(i,c):c)}}},[["render",function(i,o,s,l,c,h){return a((t(),e("div",null,[n(i.$slots,"default")],512)),[[r,s.panel]])}]]);var gt=R({name:"bm-driving",emits:["searchcomplete","markersset","infohtmlset","polylinesset","resultshtmlset"],mixins:[H("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},startCity:{type:[String,Number]},endCity:{type:[String,Number]},waypoints:{type:Array},policy:{type:String},panel:{type:Boolean,default:!0},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,map:i}=this;e.setLocation(t||i)},deep:!0},start:{handler(t){const{originInstance:e,end:i,startCity:n,endCity:o,waypoints:s,BMap:a,getWaypoints:r}=this;e.search(M(a,t),M(a,i),{startCity:n,endCity:o,waypoints:r(s)})},deep:!0},end:{handler(t){const{originInstance:e,start:i,startCity:n,endCity:o,waypoints:s,BMap:a,getWaypoints:r}=this;e.search(M(a,i),M(a,t),{startCity:n,endCity:o,waypoints:r(s)})},deep:!0},startCity(t){const{originInstance:e,start:i,end:n,endCity:o,waypoints:s,getWaypoints:a}=this;e.search(i,n,{val:t,endCity:o,waypoints:a(s)})},endCity(t){const{originInstance:e,start:i,end:n,startCity:o,waypoints:s,getWaypoints:a}=this;e.search(i,n,{startCity:o,val:t,waypoints:a(s)})},waypoints:{handler(t){const{originInstance:e,start:i,end:n,startCity:o,endCity:s,getWaypoints:a}=this;e.search(i,n,{startCity:o,endCity:s,waypoints:a(t)})},deep:!0},panel(){this.reload()},policy(t){this.reload()},autoViewport(){this.reload()},selectFirstResult(){this.reload()},highlightMode(){this.reload()}},methods:{search(t,e,{startCity:i,endCity:n,waypoints:o}){const{originInstance:s,getWaypoints:a}=this;s.search(t,e,{startCity:i,endCity:n,waypoints:a(o)})},getWaypoints(t){const{BMap:e}=this;if(t)return t.map((t=>M(e,t)))},load(){const t=this,{map:e,BMap:i,location:n,policy:o,selectFirstResult:s,autoViewport:a,highlightMode:r,search:l,start:c,end:h,startCity:p,endCity:d,waypoints:m,originInstance:u,getWaypoints:y}=this,f=n?w(n)?g(i,n):n:e,v=this.originInstance=new i.DrivingRoute(f,{renderOptions:{map:e,panel:this.$el,selectFirstResult:s,autoViewport:a,highlightMode:r},policy:window[o],onSearchComplete(e){u&&u!==v&&u.clearResults(),t.$emit("searchcomplete",e)},onMarkersSet(e){t.$emit("markersset",e)},onInfoHtmlSet(e){t.$emit("infohtmlset",e)},onPolylinesSet(e){t.$emit("polylinesset",e)},onResultsHtmlSet(e){t.$emit("resultshtmlset",e)}});l(M(i,c),M(i,h),{startCity:p,endCity:d,waypoints:y(m)})}}},[["render",function(i,o,s,l,c,h){return a((t(),e("div",null,[n(i.$slots,"default")],512)),[[r,s.panel]])}]]);var yt=R({name:"bm-bus",emits:["getbuslistcomplete","getbuslinecomplete","buslisthtmlset","buslinehtmlset","markersset","polylinesset"],mixins:[H("search")],props:{location:{type:[Object,String]},keyword:{type:String},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,map:i}=this;e.setLocation(t||i)},deep:!0},keyword(t){this.search(t)},panel(){this.reload()},autoViewport(t){this.reload()},selectFirstResult(t){this.reload()}},methods:{search(t){const{originInstance:e}=this;e.getBusList(t)},load(){const t=this,{location:e,selectFirstResult:i,autoViewport:n,highlightMode:o,keyword:s,search:a,BMap:r,map:l,originInstance:c}=this,h=e?w(e)?g(r,e):e:l,p=this.originInstance=new r.BusLineSearch(h,{renderOptions:{map:l,panel:this.$el,selectFirstResult:i,autoViewport:n,highlightMode:o},onGetBusListComplete(e){c&&c!==p&&c.clearResults(),t.$emit("getbuslistcomplete",e)},onGetBusLineComplete(e){c&&c!==p&&c.clearResults(),t.$emit("getbuslinecomplete",e)},onBusListHtmlSet(e){t.$emit("buslisthtmlset",e)},onBusLineHtmlSet(e){t.$emit("buslinehtmlset",e)},onMarkersSet(e){t.$emit("markersset",e)},onPolylinesSet(e){t.$emit("polylinesset",e)}});a(s)}}},[["render",function(i,n,o,s,l,c){return a((t(),e("div",null,null,512)),[[r,o.panel]])}]]);const ft={name:"bm-tile",render(t){},mixins:[H("layer")],props:{transparentPng:{type:Boolean},tileUrlTemplate:{type:String},copyright:{},zIndex:{type:Number}},watch:{transparentPng(){this.reload()},tileUrlTemplate(){this.reload()},copyright(){this.reload()},zIndex(){this.reload()}},methods:{load(){const{BMap:t,map:e,transparentPng:i,tileUrlTemplate:n,copyright:o,zIndex:s}=this;this.originInstance=new t.TileLayer({transparentPng:i,tileUrlTemplate:n,copyright:o&&{id:o.id,content:o.content,bounds:o.bounds&&y(o.bounds)},zIndex:s}),e.addTileLayer(this.originInstance)}}},vt={name:"bm-triffic",render(t){},mixins:[H("layer")],props:{predictDate:{type:Object}},watch:{"pridictDate.weekday"(){this.reload()},"pridictDate.hour"(){this.reload()},pridictDate(){this.reload()}},methods:{load(){const{pridictDate:t,BMap:e,map:i}=this;this.originInstance=new e.TrafficLayer({pridictDate:t}),i.addTileLayer(this.originInstance)}}},bt={mixins:[H("abstract")],emits:["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","load"],props:["name","strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","massClear","clicking"],data:()=>({paths:[]}),components:{BmPolygon:ot},watch:{name(){this.reload()}},methods:{load(){const{BMap:t,name:e}=this;(new t.Boundary).get(e,(t=>{const e=t.boundaries.map((t=>(t||[]).split(";").map((t=>(([t,e])=>({lng:t,lat:e}))(t.split(",").map((t=>+t)))))));this.paths=e,this.$emit("load",{boundaries:t.boundaries,paths:[...e]})}))}}},wt={key:0};var _t=R(bt,[["render",function(n,o,s,a,r,d){const m=l("bm-polygon");return r.paths.length?(t(),e("div",wt,[(t(!0),e(c,null,h(r.paths,((e,i)=>(t(),p(m,{key:i,path:e,"stroke-color":s.strokeColor,"stroke-weight":s.strokeWeight,"stroke-opacity":s.strokeOpacity,"stroke-style":s.strokeStyle,"fill-opacity":s.fillOpacity,"fill-color":s.fillColor,"mass-clear":s.massClear,clicking:s.clicking,onClick:o[0]||(o[0]=t=>n.$emit("click",t)),onDblclick:o[1]||(o[1]=t=>n.$emit("dblclick",t)),onMousedown:o[2]||(o[2]=t=>n.$emit("mousedown",t)),onMouseup:o[3]||(o[3]=t=>n.$emit("mouseup",t)),onMouseout:o[4]||(o[4]=t=>n.$emit("mouseout",t)),onMouseover:o[5]||(o[5]=t=>n.$emit("mouseover",t)),onRemove:o[6]||(o[6]=t=>n.$emit("remove",t))},null,8,["path","stroke-color","stroke-weight","stroke-opacity","stroke-style","fill-opacity","fill-color","mass-clear","clicking"])))),128))])):i("",!0)}]]);const Mt={name:"bm-autocomplete",mixins:[H("autoComplete")],emits:["update:modelValue","searchcomplete"],props:{types:{type:String},location:{type:String},sugStyle:{type:Object,default:()=>({})},modelValue:{}},watch:{types(){this.reload()},location(){this.reload()}},methods:{load(){const{BMap:t,map:e,$el:i,types:n,location:o,sugStyle:s}=this,a=i.querySelector("input");a&&(this.originInstance=new t.Autocomplete({input:a,types:n,location:o||e,onSearchComplete:t=>{const e=document.querySelectorAll(".tangram-suggestion-main");for(const i of e)for(const t in s)i.style[t]=s[t].toString();this.$emit("searchcomplete",t)}}),this.originInstance.addEventListener("onconfirm",(t=>{const e=t.item.value;this.$emit("update:modelValue",e.province+e.city+e.district+e.street+e.business)})),u.call(this,this.originInstance))}}},kt=d("input",null,null,-1);var Ct=R(Mt,[["render",function(i,o,s,a,r,l){return t(),e("span",null,[n(i.$slots,"default",{},(()=>[kt]))])}]]);!function(){var t="undefined"!=typeof window?window:void 0!==S?S:this;function e(e,i){return e(i={exports:{}},i.exports,t),i.exports}var i=e((function(e,i,n){!function(t,n){"object"==typeof i?e.exports=n():(t.BMapLib=t.BMapLib||{},t.BMapLib.TextIconOverlay=t.BMapLib.TextIconOverlay||n())}(t,(function(){var t,e,i=t=i||{version:"1.3.8"},n={};i.guid="$BAIDU$",n[i.guid]=n[i.guid]||{},i.dom=i.dom||{},i.dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},i.g=i.G=i.dom.g,i.dom.getDocument=function(t){return 9==(t=i.dom.g(t)).nodeType?t:t.ownerDocument||t.document},i.lang=i.lang||{},i.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},i.isString=i.lang.isString,i.dom._g=function(t){return i.lang.isString(t)?document.getElementById(t):t},i._g=i.dom._g,i.browser=i.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(i.browser.ie=i.ie=document.documentMode||+RegExp.$1),i.dom.getComputedStyle=function(t,e){t=i.dom._g(t);var n,o=i.dom.getDocument(t);return o.defaultView&&o.defaultView.getComputedStyle&&(n=o.defaultView.getComputedStyle(t,null))?n[e]||n.getPropertyValue(e):""},i.dom._styleFixer=i.dom._styleFixer||{},i.dom._styleFilter=i.dom._styleFilter||[],i.dom._styleFilter.filter=function(t,e,n){for(var o,s=0,a=i.dom._styleFilter;o=a[s];s++)(o=o[n])&&(e=o(t,e));return e},i.string=i.string||{},i.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,(function(t){return t.charAt(1).toUpperCase()}))},i.dom.getStyle=function(t,e){var n=i.dom;t=n.g(t),e=i.string.toCamelCase(e);var o=t.style[e]||(t.currentStyle?t.currentStyle[e]:"")||n.getComputedStyle(t,e);if(!o){var s=n._styleFixer[e];s&&(o=s.get?s.get(t):i.dom.getStyle(t,s))}return(s=n._styleFilter)&&(o=s.filter(e,o,"get")),o},i.getStyle=i.dom.getStyle,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(i.browser.opera=+RegExp.$1),i.browser.isWebkit=/webkit/i.test(navigator.userAgent),i.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),i.browser.isStrict="CSS1Compat"==document.compatMode,i.dom.getPosition=function(t){t=i.dom.g(t);var e=i.dom.getDocument(t),n=i.browser,o=i.dom.getStyle;n.isGecko>0&&e.getBoxObjectFor&&"absolute"==o(t,"position")&&(""===t.style.top||t.style.left);var s,a,r={left:0,top:0};if(t==(n.ie&&!n.isStrict?e.body:e.documentElement))return r;if(t.getBoundingClientRect){a=t.getBoundingClientRect(),r.left=Math.floor(a.left)+Math.max(e.documentElement.scrollLeft,e.body.scrollLeft),r.top=Math.floor(a.top)+Math.max(e.documentElement.scrollTop,e.body.scrollTop),r.left-=e.documentElement.clientLeft,r.top-=e.documentElement.clientTop;var l=e.body,c=parseInt(o(l,"borderLeftWidth")),h=parseInt(o(l,"borderTopWidth"));n.ie&&!n.isStrict&&(r.left-=isNaN(c)?2:c,r.top-=isNaN(h)?2:h)}else{s=t;do{if(r.left+=s.offsetLeft,r.top+=s.offsetTop,n.isWebkit>0&&"fixed"==o(s,"position")){r.left+=e.body.scrollLeft,r.top+=e.body.scrollTop;break}s=s.offsetParent}while(s&&s!=t);for((n.opera>0||n.isWebkit>0&&"absolute"==o(t,"position"))&&(r.top-=e.body.offsetTop),s=t.offsetParent;s&&s!=e.body;)r.left-=s.scrollLeft,n.opera&&"TR"==s.tagName||(r.top-=s.scrollTop),s=s.offsetParent}return r},i.event=i.event||{},i.event._listeners=i.event._listeners||[],i.event.on=function(t,e,n){e=e.replace(/^on/i,""),t=i.dom._g(t);var o,s=function(e){n.call(t,e)},a=i.event._listeners,r=i.event._eventFilter,l=e;return e=e.toLowerCase(),r&&r[e]&&(l=(o=r[e](t,e,s)).type,s=o.listener),t.addEventListener?t.addEventListener(l,s,!1):t.attachEvent&&t.attachEvent("on"+l,s),a[a.length]=[t,e,n,s,l],t},i.on=i.event.on,e=n[i.guid],i.lang.guid=function(){return"TANGRAM__"+(e._counter++).toString(36)},e._counter=e._counter||1,n[i.guid]._instances=n[i.guid]._instances||{},i.lang.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)},i.lang.Class=function(t){this.guid=t||i.lang.guid(),n[i.guid]._instances[this.guid]=this},n[i.guid]._instances=n[i.guid]._instances||{},i.lang.Class.prototype.dispose=function(){for(var t in delete n[i.guid]._instances[this.guid],this)i.lang.isFunction(this[t])||delete this[t];this.disposed=!0},i.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},i.lang.Event=function(t,e){this.type=t,this.returnValue=!0,this.target=e||null,this.currentTarget=null},i.lang.Class.prototype.addEventListener=function(t,e,n){if(i.lang.isFunction(e)){!this.__listeners&&(this.__listeners={});var o,s=this.__listeners;if("string"==typeof n&&n){if(/[^\w\-]/.test(n))throw"nonstandard key:"+n;e.hashCode=n,o=n}0!=t.indexOf("on")&&(t="on"+t),"object"!=typeof s[t]&&(s[t]={}),o=o||i.lang.guid(),e.hashCode=o,s[t][o]=e}},i.lang.Class.prototype.removeEventListener=function(t,e){if(void 0===e||(!i.lang.isFunction(e)||(e=e.hashCode))&&i.lang.isString(e)){!this.__listeners&&(this.__listeners={}),0!=t.indexOf("on")&&(t="on"+t);var n=this.__listeners;if(n[t])if(void 0!==e)n[t][e]&&delete n[t][e];else for(var o in n[t])delete n[t][o]}},i.lang.Class.prototype.dispatchEvent=function(t,e){for(var n in i.lang.isString(t)&&(t=new i.lang.Event(t)),!this.__listeners&&(this.__listeners={}),e=e||{})t[n]=e[n];var o=this.__listeners,s=t.type;if(t.target=t.target||this,t.currentTarget=this,0!=s.indexOf("on")&&(s="on"+s),i.lang.isFunction(this[s])&&this[s].apply(this,arguments),"object"==typeof o[s])for(n in o[s])o[s][n].apply(this,arguments);return t.returnValue},i.lang.inherits=function(t,e,i){var n,o,s=t.prototype,a=new Function;for(n in a.prototype=e.prototype,o=t.prototype=new a,s)o[n]=s[n];t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof i&&(o._className=i)},i.inherits=i.lang.inherits;var o="http://api.map.baidu.com/library/TextIconOverlay/1.2/src/images/m",s="png",a=function(e,i,n){try{BMap}catch(o){throw Error("Baidu Map JS API is not ready yet!")}t.lang.inherits(a,BMap.Overlay,"TextIconOverlay"),this._position=e,this._text=i,this._options=n||{},this._styles=this._options.styles||[],!this._styles.length&&this._setupDefaultStyles()};return a.prototype._setupDefaultStyles=function(){for(var t,e=[53,56,66,78,90],i=0;t=e[i];i++)this._styles.push({url:o+i+"."+s,size:new BMap.Size(t,t)})},a.prototype.initialize=function(t){return this._map=t,this._domElement=document.createElement("div"),this._updateCss(),this._updateText(),this._updatePosition(),this._bind(),this._map.getPanes().markerMouseTarget.appendChild(this._domElement),this._domElement},a.prototype.draw=function(){this._map&&this._updatePosition()},a.prototype.getText=function(){return this._text},a.prototype.setText=function(t){!t||this._text&&this._text.toString()==t.toString()||(this._text=t,this._updateText(),this._updateCss(),this._updatePosition())},a.prototype.getPosition=function(){return this._position},a.prototype.setPosition=function(t){!t||this._position&&this._position.equals(t)||(this._position=t,this._updatePosition())},a.prototype.getStyleByText=function(t,e){var i=parseInt(t),n=parseInt(i/10);return n=Math.max(0,n),e[n=Math.min(n,e.length-1)]},a.prototype._updateCss=function(){if(this._domElement){var t=this.getStyleByText(this._text,this._styles);this._domElement.style.cssText=this._buildCssText(t)}},a.prototype._updateText=function(){this._domElement&&(this._domElement.innerHTML=this._text)},a.prototype._updatePosition=function(){if(this._domElement&&this._position){var t=this._domElement.style,e=this._map.pointToOverlayPixel(this._position);e.x-=Math.ceil(parseInt(t.width)/2),e.y-=Math.ceil(parseInt(t.height)/2),t.left=e.x+"px",t.top=e.y+"px"}},a.prototype._buildCssText=function(e){var i=e.url,n=e.size,o=e.anchor,s=e.offset,a=e.textColor||"black",r=e.textSize||10,l=[];if(t.browser.ie<7)l.push('filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+i+'");');else{l.push("background-image:url("+i+");");var c="0 0";s instanceof BMap.Size&&(c=s.width+"px "+s.height+"px"),l.push("background-position:"+c+";")}return n instanceof BMap.Size&&(o instanceof BMap.Size?(o.height>0&&o.height<n.height&&l.push("height:"+(n.height-o.height)+"px; padding-top:"+o.height+"px;"),o.width>0&&o.width<n.width&&l.push("width:"+(n.width-o.width)+"px; padding-left:"+o.width+"px;")):(l.push("height:"+n.height+"px; line-height:"+n.height+"px;"),l.push("width:"+n.width+"px; text-align:center;"))),l.push("cursor:pointer; color:"+a+"; position:absolute; font-size:"+r+"px; font-family:Arial,sans-serif; font-weight:bold"),l.join("")},a.prototype._bind=function(){if(this._domElement){var e=this,i=this._map,n=t.lang.Event;t.event.on(this._domElement,"mouseover",(function(t){e.dispatchEvent(o(t,new n("onmouseover")))})),t.event.on(this._domElement,"mouseout",(function(t){e.dispatchEvent(o(t,new n("onmouseout")))})),t.event.on(this._domElement,"click",(function(t){e.dispatchEvent(o(t,new n("onclick")))}))}function o(e,n){var o=e.srcElement||e.target,s=e.clientX||e.pageX,a=e.clientY||e.pageY;if(e&&n&&s&&a&&o){var r=t.dom.getPosition(i.getContainer());n.pixel=new BMap.Pixel(s-r.left,a-r.top),n.point=i.pixelToPoint(n.pixel)}return n}},a}))})),n=i&&"object"==typeof i&&"default"in i?i.default:i,o=function(t,e,i){e=s(e);var n=t.pointToPixel(e.getNorthEast()),o=t.pointToPixel(e.getSouthWest());n.x+=i,n.y-=i,o.x-=i,o.y+=i;var a=t.pixelToPoint(n),r=t.pixelToPoint(o);return new BMap.Bounds(r,a)},s=function(t){var e=a(t.getNorthEast().lng,-180,180),i=a(t.getSouthWest().lng,-180,180),n=a(t.getNorthEast().lat,-74,74),o=a(t.getSouthWest().lat,-74,74);return new BMap.Bounds(new BMap.Point(i,o),new BMap.Point(e,n))},a=function(t,e,i){return e&&(t=Math.max(t,e)),i&&(t=Math.min(t,i)),t},r=function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=function(t,e){var i=-1;if(r(e))if(e.indexOf)i=e.indexOf(t);else for(var n,o=0;n=e[o];o++)if(n===t){i=o;break}return i},c=function(t,e){try{BMap}catch(s){throw Error("Baidu Map JS API is not ready yet!")}if(t){this._map=t,this._markers=[],this._clusters=[];var i=e||{};this._gridSize=i.gridSize||60,this._maxZoom=i.maxZoom||18,this._minClusterSize=i.minClusterSize||2,this._isAverageCenter=!1,null!=i.isAverageCenter&&(this._isAverageCenter=i.isAverageCenter),this._styles=i.styles||[];var n=this;this._map.addEventListener("zoomend",(function(){n._redraw()})),this._map.addEventListener("moveend",(function(){n._redraw()}));var o=i.markers;r(o)&&this.addMarkers(o)}};function h(t){this._markerClusterer=t,this._map=t.getMap(),this._minClusterSize=t.getMinClusterSize(),this._isAverageCenter=t.isAverageCenter(),this._center=null,this._markers=[],this._gridBounds=null,this._isReal=!1,this._clusterMarker=new n(this._center,this._markers.length,{styles:this._markerClusterer.getStyles()})}c.prototype.addMarkers=function(t){if(t.length){for(var e=0,i=t.length;e<i;e++)this._pushMarkerTo(t[e]);this._createClusters()}},c.prototype._pushMarkerTo=function(t){-1===l(t,this._markers)&&(t.isInCluster=!1,this._markers.push(t))},c.prototype.addMarker=function(t){this._pushMarkerTo(t),this._createClusters()},c.prototype._createClusters=function(){var t=this._map.getBounds();if(t.getCenter())for(var e,i=o(this._map,t,this._gridSize),n=0;e=this._markers[n];n++)!e.isInCluster&&i.containsPoint(e.getPosition())&&this._addToClosestCluster(e)},c.prototype._addToClosestCluster=function(t){var e=4e6,i=null;t.getPosition();for(var n,o=0;n=this._clusters[o];o++){var s=n.getCenter();if(s){var a=this._map.getDistance(s,t.getPosition());a<e&&(e=a,i=n)}}i&&i.isMarkerInClusterBounds(t)?i.addMarker(t):((n=new h(this)).addMarker(t),this._clusters.push(n))},c.prototype._clearLastClusters=function(){for(var t,e=0;t=this._clusters[e];e++)t.remove();this._clusters=[],this._removeMarkersFromCluster()},c.prototype._removeMarkersFromCluster=function(){for(var t,e=0;t=this._markers[e];e++)t.isInCluster=!1},c.prototype._removeMarkersFromMap=function(){for(var t,e=0;t=this._markers[e];e++){t.isInCluster=!1;var i=t.getLabel();this._map.removeOverlay(t),t.setLabel(i)}},c.prototype._removeMarker=function(t){var e=l(t,this._markers);return-1!==e&&(this._map.removeOverlay(t),this._markers.splice(e,1),!0)},c.prototype.removeMarker=function(t){var e=this._removeMarker(t);return e&&(this._clearLastClusters(),this._createClusters()),e},c.prototype.removeMarkers=function(t){for(var e=!1,i=0;i<t.length;i++){var n=this._removeMarker(t[i]);e=e||n}return e&&(this._clearLastClusters(),this._createClusters()),e},c.prototype.clearMarkers=function(){this._clearLastClusters(),this._removeMarkersFromMap(),this._markers=[]},c.prototype._redraw=function(){this._clearLastClusters(),this._createClusters()},c.prototype.getGridSize=function(){return this._gridSize},c.prototype.setGridSize=function(t){this._gridSize=t,this._redraw()},c.prototype.getMaxZoom=function(){return this._maxZoom},c.prototype.setMaxZoom=function(t){this._maxZoom=t,this._redraw()},c.prototype.getStyles=function(){return this._styles},c.prototype.setStyles=function(t){this._styles=t,this._redraw()},c.prototype.getMinClusterSize=function(){return this._minClusterSize},c.prototype.setMinClusterSize=function(t){this._minClusterSize=t,this._redraw()},c.prototype.isAverageCenter=function(){return this._isAverageCenter},c.prototype.getMap=function(){return this._map},c.prototype.getMarkers=function(){return this._markers},c.prototype.getClustersCount=function(){for(var t,e=0,i=0;t=this._clusters[i];i++)t.isReal()&&e++;return e},h.prototype.addMarker=function(t){if(this.isMarkerInCluster(t))return!1;if(this._center){if(this._isAverageCenter){var e=this._markers.length+1,i=(this._center.lat*(e-1)+t.getPosition().lat)/e,n=(this._center.lng*(e-1)+t.getPosition().lng)/e;this._center=new BMap.Point(n,i),this.updateGridBounds()}}else this._center=t.getPosition(),this.updateGridBounds();t.isInCluster=!0,this._markers.push(t);var o=this._markers.length;if(o<this._minClusterSize)return this._map.addOverlay(t),!0;if(o===this._minClusterSize)for(var s=0;s<o;s++){var a=this._markers[s].getLabel();this._markers[s].getMap()&&this._map.removeOverlay(this._markers[s]),this._markers[s].setLabel(a)}return this._map.addOverlay(this._clusterMarker),this._isReal=!0,this.updateClusterMarker(),!0},h.prototype.isMarkerInCluster=function(t){if(this._markers.indexOf)return-1!=this._markers.indexOf(t);for(var e,i=0;e=this._markers[i];i++)if(e===t)return!0;return!1},h.prototype.isMarkerInClusterBounds=function(t){return this._gridBounds.containsPoint(t.getPosition())},h.prototype.isReal=function(t){return this._isReal},h.prototype.updateGridBounds=function(){var t=new BMap.Bounds(this._center,this._center);this._gridBounds=o(this._map,t,this._markerClusterer.getGridSize())},h.prototype.updateClusterMarker=function(){if(this._map.getZoom()>this._markerClusterer.getMaxZoom()){this._clusterMarker&&this._map.removeOverlay(this._clusterMarker);for(var t,e=0;t=this._markers[e];e++)this._map.addOverlay(t)}else this._markers.length<this._minClusterSize?this._clusterMarker.hide():(this._clusterMarker.setPosition(this._center),this._clusterMarker.setText(this._markers.length),this._clusterMarker.addEventListener&&!this._clusterMarker._hasClickEvent&&this._clusterMarker.addEventListener("click",function(t){this._clusterMarker._hasClickEvent=!0,this._markers&&this._map.setViewport(this.getBounds())}.bind(this)))},h.prototype.remove=function(){for(var t=0;this._markers[t];t++){var e=this._markers[t].getLabel();this._markers[t].getMap()&&this._map.removeOverlay(this._markers[t]),this._markers[t].setLabel(e)}this._map.removeOverlay(this._clusterMarker),this._markers.length=0,delete this._markers},h.prototype.getBounds=function(){for(var t,e=new BMap.Bounds(this._center,this._center),i=0;t=this._markers[i];i++)e.extend(t.getPosition());return e},h.prototype.getCenter=function(){return this._center}}();!function(){var t,e={dom:{}};e.dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},e.g=e.G=e.dom.g,e.lang=e.lang||{},e.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},e.isString=e.lang.isString,e.dom._g=function(t){return e.lang.isString(t)?document.getElementById(t):t},e._g=e.dom._g,e.dom.getDocument=function(t){return 9==(t=e.dom.g(t)).nodeType?t:t.ownerDocument||t.document},e.browser=e.browser||{},e.browser.ie=e.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,e.dom.getComputedStyle=function(t,i){t=e.dom._g(t);var n,o=e.dom.getDocument(t);return o.defaultView&&o.defaultView.getComputedStyle&&(n=o.defaultView.getComputedStyle(t,null))?n[i]||n.getPropertyValue(i):""},e.dom._styleFixer=e.dom._styleFixer||{},e.dom._styleFilter=e.dom._styleFilter||[],e.dom._styleFilter.filter=function(t,i,n){for(var o,s=0,a=e.dom._styleFilter;o=a[s];s++)(o=o[n])&&(i=o(t,i));return i},e.string=e.string||{},e.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,(function(t){return t.charAt(1).toUpperCase()}))},e.dom.getStyle=function(t,i){var n=e.dom;t=n.g(t),i=e.string.toCamelCase(i);var o=t.style[i]||(t.currentStyle?t.currentStyle[i]:"")||n.getComputedStyle(t,i);if(!o){var s=n._styleFixer[i];s&&(o=s.get?s.get(t):e.dom.getStyle(t,s))}return(s=n._styleFilter)&&(o=s.filter(i,o,"get")),o},e.getStyle=e.dom.getStyle,e.dom._NAME_ATTRS=(t={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"},e.browser.ie<8?(t.for="htmlFor",t.class="className"):(t.htmlFor="for",t.className="class"),t),e.dom.setAttr=function(t,i,n){return t=e.dom.g(t),"style"==i?t.style.cssText=n:(i=e.dom._NAME_ATTRS[i]||i,t.setAttribute(i,n)),t},e.setAttr=e.dom.setAttr,e.dom.setAttrs=function(t,i){for(var n in t=e.dom.g(t),i)e.dom.setAttr(t,n,i[n]);return t},e.setAttrs=e.dom.setAttrs,e.dom.create=function(t,i){var n=document.createElement(t),o=i||{};return e.dom.setAttrs(n,o)},e.object=e.object||{},e.extend=e.object.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t};var i=function(t,e,i){try{BMap}catch(n){throw Error("Baidu Map JS API is not ready yet!")}!e||e.length<1||(this._map=t,this._path=e,this.i=0,this._setTimeoutQuene=[],this._projection=this._map.getMapType().getProjection(),this._opts={icon:null,speed:4e3,defaultContent:"",showInfoWindow:!1},this._setOptions(i),this._rotation=0,!this._opts.icon instanceof BMap.Icon&&(this._opts.icon=defaultIcon))};function n(t,e){this._point=t,this._html=e}function o(){n.prototype=new BMap.Overlay,n.prototype.initialize=function(t){var i=this._div=e.dom.create("div",{style:"border:solid 1px #ccc;width:auto;min-width:50px;text-align:center;position:absolute;background:#fff;color:#000;font-size:12px;border-radius: 10px;padding:5px;white-space: nowrap;"});return i.innerHTML=this._html,t.getPanes().floatPane.appendChild(i),this._map=t,i},n.prototype.draw=function(){this.setPosition(this.lushuMain._marker.getPosition(),this.lushuMain._marker.getIcon().size)},e.object.extend(n.prototype,{setPosition:function(t,i){var n=this._map.pointToOverlayPixel(t),o=e.dom.getStyle(this._div,"width"),s=e.dom.getStyle(this._div,"height"),a=parseInt(this._div.clientWidth||o,10);parseInt(this._div.clientHeight||s,10),this._div.style.left=n.x-a/2+"px",this._div.style.bottom=-(n.y-i.height)+"px"},setHtml:function(t){this._div.innerHTML=t},setRelatedClass:function(t){this.lushuMain=t}})}i.prototype._setOptions=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this._opts[e]=t[e])},i.prototype.start=function(){var t=this,e=t._path.length;if(this._opts.onstart&&this._opts.onstart(t),t.i&&t.i<e-1){if(!t._fromPause)return;t._fromStop||t._moveNext(++t.i)}else!t._marker&&t._addMarker(),t._timeoutFlag=setTimeout((function(){!t._overlay&&t._addInfoWin(),t._moveNext(t.i)}),400);this._fromPause=!1,this._fromStop=!1},i.prototype.stop=function(){this.i=0,this._fromStop=!0,clearInterval(this._intervalFlag),this._clearTimeout();for(var t=0,e=this._opts.landmarkPois,i=e.length;t<i;t++)e[t].bShow=!1;this._opts.onstop&&this._opts.onstop(this)},i.prototype.pause=function(){clearInterval(this._intervalFlag),this._fromPause=!0,this._clearTimeout(),this._opts.onpause&&this._opts.onpause(this)},i.prototype.hideInfoWindow=function(){this._opts.showInfoWindow=!1,this._overlay&&(this._overlay._div.style.visibility="hidden")},i.prototype.showInfoWindow=function(){this._opts.showInfoWindow=!0,this._overlay&&(this._overlay._div.style.visibility="visible")},i.prototype.dispose=function(){clearInterval(this._intervalFlag),this._setTimeoutQuene&&this._clearTimeout(),this._map&&(this._map.removeOverlay(this._overlay),this._map.removeOverlay(this._marker))},e.object.extend(i.prototype,{_addMarker:function(t){this._marker&&(this.stop(),this._map.removeOverlay(this._marker),clearTimeout(this._timeoutFlag)),this._overlay&&this._map.removeOverlay(this._overlay);var e=new BMap.Marker(this._path[0]);this._opts.icon&&e.setIcon(this._opts.icon),this._map.addOverlay(e),e.setAnimation(BMAP_ANIMATION_DROP),this._marker=e},_addInfoWin:function(){var t=this;!n.prototype.initialize&&o();var e=new n(t._marker.getPosition(),t._opts.defaultContent);e.setRelatedClass(this),this._overlay=e,this._map.addOverlay(e),this._opts.showInfoWindow?this.showInfoWindow():this.hideInfoWindow()},_getMercator:function(t){return this._map.getMapType().getProjection().lngLatToPoint(t)},_getDistance:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},_move:function(t,e,i){var n=this,o=0,s=10,a=this._opts.speed/(1e3/s),r=this._projection.lngLatToPoint(t),l=this._projection.lngLatToPoint(e),c=Math.round(n._getDistance(r,l)/a);c<1?n._moveNext(++n.i):n._intervalFlag=setInterval((function(){if(o>=c){if(clearInterval(n._intervalFlag),n.i>n._path.length)return;n._moveNext(++n.i)}else{o++;var s=i(r.x,l.x,o,c),a=i(r.y,l.y,o,c),h=n._projection.pointToLngLat(new BMap.Pixel(s,a));if(1==o){var p=null;n.i-1>=0&&(p=n._path[n.i-1]),1==n._opts.enableRotation&&n.setRotation(p,t,e),n._opts.autoView&&(n._map.getBounds().containsPoint(h)||n._map.setCenter(h))}n._marker.setPosition(h),n._setInfoWin(h)}}),s)},setRotation:function(t,e,i){var n=this,o=0;if(e=n._map.pointToPixel(e),(i=n._map.pointToPixel(i)).x!=e.x){var s=(i.y-e.y)/(i.x-e.x);o=360*Math.atan(s)/(2*Math.PI),o=i.x<e.x?90-o+90:-o,n._marker.setRotation(-o)}else{var a=0;a=i.y-e.y>0?-1:1,n._marker.setRotation(90*-a)}},linePixellength:function(t,e){return Math.sqrt(Math.abs(t.x-e.x)*Math.abs(t.x-e.x)+Math.abs(t.y-e.y)*Math.abs(t.y-e.y))},pointToPoint:function(t,e){return Math.abs(t.x-e.x)*Math.abs(t.x-e.x)+Math.abs(t.y-e.y)*Math.abs(t.y-e.y)},_moveNext:function(t){var e=this;t<this._path.length-1?e._move(e._path[t],e._path[t+1],e._tween.linear):e.stop()},_setInfoWin:function(t){var e=this;e._overlay.setPosition(t,e._marker.getIcon().size);var i=e._troughPointIndex(t);-1!=i?(clearInterval(e._intervalFlag),e._overlay.setHtml(e._opts.landmarkPois[i].html),e._overlay.setPosition(t,e._marker.getIcon().size),e._pauseForView(i)):e._overlay.setHtml(e._opts.defaultContent)},_pauseForView:function(t){var e=this,i=setTimeout((function(){e._moveNext(++e.i)}),1e3*e._opts.landmarkPois[t].pauseTime);e._setTimeoutQuene.push(i)},_clearTimeout:function(){for(var t in this._setTimeoutQuene)clearTimeout(this._setTimeoutQuene[t]);this._setTimeoutQuene.length=0},_tween:{linear:function(t,e,i,n){return(e-t)*i/n+t}},_troughPointIndex:function(t){for(var e=this._opts.landmarkPois,i=0,n=e.length;i<n;i++)if(!e[i].bShow&&this._map.getDistance(new BMap.Point(e[i].lng,e[i].lat),t)<10)return e[i].bShow=!0,i;return-1}})}();!function(){function t(t,e,i){var n,o,s=t.prototype,a=new Function;for(n in a.prototype=e.prototype,o=t.prototype=new a,s)o[n]=s[n];t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof i&&(o._className=i)}var e=function(){var t=function(t){var e={data:[],heatmap:t};this.max=1,this.get=function(t){return e[t]},this.set=function(t,i){e[t]=i}};t.prototype={addDataPoint:function(t,e){if(!(t<0||e<0)){var i=this,n=i.get("heatmap"),o=i.get("data");if(o[t]||(o[t]=[]),o[t][e]||(o[t][e]=0),o[t][e]+=arguments.length<3?1:arguments[2],i.set("data",o),i.max<o[t][e])return n.get("actx").clearRect(0,0,n.get("width"),n.get("height")),void i.setDataSet({max:o[t][e],data:o},!0);n.drawAlpha(t,e,o[t][e],!0)}},setDataSet:function(t,e){var i=this.get("heatmap"),n=[],o=t.data,s=o.length;if(i.clear(),this.max=t.max,i.get("legend")&&i.get("legend").update(t.max),null!=e&&e){for(var a in o)if(void 0!==a)for(var r in o[a])void 0!==r&&i.drawAlpha(a,r,o[a][r],!1)}else for(;s--;){var l=o[s];i.drawAlpha(l.x,l.y,l.count,!1),n[l.x]||(n[l.x]=[]),n[l.x][l.y]||(n[l.x][l.y]=0),n[l.x][l.y]=l.count}i.colorize(),this.set("data",o)},exportDataSet:function(){var t=this,e=t.get("data"),i=[];for(var n in e)if(void 0!==n)for(var o in e[n])void 0!==o&&i.push({x:parseInt(n,10),y:parseInt(o,10),count:e[n][o]});return{max:t.max,data:i}},generateRandomDataSet:function(t){var e=this.get("heatmap"),i=e.get("width"),n=e.get("height"),o={},s=Math.floor(1e3*Math.random()+1);o.max=s;for(var a=[];t--;)a.push({x:Math.floor(Math.random()*i+1),y:Math.floor(Math.random()*n+1),count:Math.floor(Math.random()*s+1)});o.data=a,this.setDataSet(o)}};var e=function(t){this.config=t;var e={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(t){return e[t]},this.set=function(t,i){e[t]=i},this.init()};e.prototype={init:function(){var t=this,e=t.config,i=e.title||"Legend",n=e.position,o=e.offset||10;e.gradient;var s,a,r=document.createElement("ul"),l="";t.processGradientObject(),n.indexOf("t")>-1?l+="top:"+o+"px;":l+="bottom:"+o+"px;",n.indexOf("l")>-1?l+="left:"+o+"px;":l+="right:"+o+"px;",(s=document.createElement("div")).style.cssText="border-radius:5px;position:absolute;"+l+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;",s.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+i+"</h3>",r.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;",(a=document.createElement("div")).style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",t.createGradientImage(),");"].join(""),s.appendChild(r),s.appendChild(a),t.set("element",s),t.set("labelsEl",r),t.update(1)},processGradientObject:function(){var t=this,e=this.config.gradient,i=[];for(var n in e)e.hasOwnProperty(n)&&i.push({stop:n,value:e[n]});i.sort((function(t,e){return t.stop-e.stop})),i.unshift({stop:0,value:"rgba(0,0,0,0)"}),t.set("gradientArr",i)},createGradientImage:function(){var t,e=this,i=e.get("gradientArr"),n=i.length,o=document.createElement("canvas"),s=o.getContext("2d");o.width="256",o.height="15",t=s.createLinearGradient(0,5,256,10);for(var a=0;a<n;a++)t.addColorStop(1/(n-1)*a,i[a].value);for(s.fillStyle=t,s.fillRect(0,5,256,10),s.strokeStyle="black",s.beginPath(),a=0;a<n;a++)s.moveTo(.5+(1/(n-1)*a*256>>0),0),s.lineTo(.5+(1/(n-1)*a*256>>0),0==a?15:5);return s.moveTo(255.5,0),s.lineTo(255.5,15),s.moveTo(255.5,4.5),s.lineTo(0,4.5),s.stroke(),e.set("ctx",s),o.toDataURL()},getElement:function(){return this.get("element")},update:function(t){for(var e,i,n=this,o=n.get("gradientArr"),s=n.get("ctx"),a=n.get("labelsEl"),r="",l=0;l<o.length;l++)e=t*o[l].stop>>0,i=s.measureText(e).width/2>>0,0==l&&(i=0),l==o.length-1&&(i*=2),r+='<li style="position:absolute;left:'+(((1/(o.length-1)*l*256||0)>>0)-i+.5)+'px">'+e+"</li>";a.innerHTML=r}};var i=function(e){var i={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1e3,r:0,t:1e3,b:0},debug:!1};this.store=new t(this),this.get=function(t){return i[t]},this.set=function(t,e){i[t]=e},this.configure(e),this.init()};return i.prototype={configure:function(t){var i=this;if(i.set("radius",t.radius||40),i.set("element",t.element instanceof Object?t.element:document.getElementById(t.element)),i.set("visible",null==t.visible||t.visible),i.set("max",t.max||!1),i.set("gradient",t.gradient||{.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"}),i.set("opacity",parseInt(255/(100/t.opacity),10)||180),i.set("width",t.width||0),i.set("height",t.height||0),i.set("debug",t.debug),t.legend){var n=t.legend;n.gradient=i.get("gradient"),i.set("legend",new e(n))}},resize:function(){var t=this,e=t.get("element"),i=t.get("canvas"),n=t.get("acanvas");i.width=n.width=t.get("width")||e.style.width.replace(/px/,"")||t.getWidth(e),this.set("width",i.width),i.height=n.height=t.get("height")||e.style.height.replace(/px/,"")||t.getHeight(e),this.set("height",i.height)},init:function(){var t=this,e=document.createElement("canvas"),i=document.createElement("canvas"),n=e.getContext("2d"),o=i.getContext("2d"),s=t.get("element");t.initColorPalette(),t.set("canvas",e),t.set("ctx",n),t.set("acanvas",i),t.set("actx",o),t.resize(),e.style.cssText=i.style.cssText="position:absolute;top:0;left:0;z-index:10000000;",t.get("visible")||(e.style.display="none"),s.appendChild(e),t.get("legend")&&s.appendChild(t.get("legend").getElement()),t.get("debug")&&document.body.appendChild(i),o.shadowOffsetX=15e3,o.shadowOffsetY=15e3,o.shadowBlur=15},initColorPalette:function(){var t,e,i,n=this,o=document.createElement("canvas"),s=n.get("gradient");for(var a in o.width="1",o.height="256",e=(t=o.getContext("2d")).createLinearGradient(0,0,1,256),(i=t.getImageData(0,0,1,1)).data[0]=i.data[3]=64,i.data[1]=i.data[2]=0,t.putImageData(i,0,0),i=t.getImageData(0,0,1,1),n.set("premultiplyAlpha",i.data[0]<60||i.data[0]>70),s)e.addColorStop(a,s[a]);t.fillStyle=e,t.fillRect(0,0,1,256),n.set("gradient",t.getImageData(0,0,1,256).data)},getWidth:function(t){var e=t.offsetWidth;return t.style.paddingLeft&&(e+=t.style.paddingLeft),t.style.paddingRight&&(e+=t.style.paddingRight),e},getHeight:function(t){var e=t.offsetHeight;return t.style.paddingTop&&(e+=t.style.paddingTop),t.style.paddingBottom&&(e+=t.style.paddingBottom),e},colorize:function(t,e){var i,n,o,s,a,r,l,c,h,p=this,d=p.get("width"),m=p.get("radius"),u=p.get("height"),g=p.get("actx"),y=p.get("ctx"),f=3*m,v=p.get("premultiplyAlpha"),b=p.get("gradient"),w=p.get("opacity"),_=p.get("bounds");null!=t&&null!=e?(t+f>d&&(t=d-f),t<0&&(t=0),e<0&&(e=0),e+f>u&&(e=u-f),i=t,n=e,s=t+f,o=e+f):(i=_.l<0?0:_.l,s=_.r>d?d:_.r,n=_.t<0?0:_.t,o=_.b>u?u:_.b),r=(a=g.getImageData(i,n,s-i,o-n)).data.length;for(var M=3;M<r;M+=4)(c=4*(l=a.data[M]))&&(h=l<w?l:w,a.data[M-3]=b[c],a.data[M-2]=b[c+1],a.data[M-1]=b[c+2],v&&(a.data[M-3]/=255/h,a.data[M-2]/=255/h,a.data[M-1]/=255/h),a.data[M]=h);y.putImageData(a,i,n)},drawAlpha:function(t,e,i,n){var o=this,s=o.get("radius"),a=o.get("actx");o.get("max");var r=o.get("bounds"),l=t-1.5*s>>0,c=e-1.5*s>>0,h=t+1.5*s>>0,p=e+1.5*s>>0;a.shadowColor="rgba(0,0,0,"+(i?i/o.store.max:"0.1")+")",a.shadowOffsetX=15e3,a.shadowOffsetY=15e3,a.shadowBlur=15,a.beginPath(),a.arc(t-15e3,e-15e3,s,0,2*Math.PI,!0),a.closePath(),a.fill(),n?o.colorize(l,c):(l<r.l&&(r.l=l),c<r.t&&(r.t=c),h>r.r&&(r.r=h),p>r.b&&(r.b=p))},toggleDisplay:function(){var t=this,e=t.get("visible"),i=t.get("canvas");i.style.display=e?"none":"block",t.set("visible",!e)},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var t=this,e=t.get("width"),i=t.get("height");t.store.set("data",[]),t.get("ctx").clearRect(0,0,e,i),t.get("actx").clearRect(0,0,e,i)},cleanup:function(){var t=this;t.get("element").removeChild(t.get("canvas"))}},{create:function(t){return new i(t)},util:{mousePosition:function(t){var e,i;if(t.layerX?(e=t.layerX,i=t.layerY):t.offsetX&&(e=t.offsetX,i=t.offsetY),void 0!==e)return[e,i]}}}}(),i=function(e){try{BMap}catch(o){throw Error("Baidu Map JS API is not ready yet!")}if(!i._isExtended){i._isExtended=!0,t(i,BMap.Overlay,"HeatmapOverlay");var n=new i(e);this.__proto__=n.__proto__}this.conf=e,this.heatmap=null,this.latlngs=[],this.bounds=null,this._moveendHandler=this._moveendHandler.bind(this)};i.prototype.initialize=function(t){this._map=t;var i=document.createElement("div");return i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.border=0,i.style.width=this._map.getSize().width+"px",i.style.height=this._map.getSize().height+"px",this.conf.element=i,t.getPanes().mapPane.appendChild(i),this.heatmap=e.create(this.conf),this._div=i,i},i.prototype.draw=function(){var t=this._map.getBounds();if(!t.equals(this.bounds)){this.bounds=t;var e=this._map.pointToOverlayPixel(t.getNorthEast()),i=this._map.pointToOverlayPixel(t.getSouthWest());if(e&&i){var n=e.y,o=i.x,s=i.y-e.y,a=e.x-i.x;if(this.conf.element.style.left=o+"px",this.conf.element.style.top=n+"px",this.conf.element.style.width=a+"px",this.conf.element.style.height=s+"px",this.heatmap.store.get("heatmap").resize(),this.latlngs.length>0){this.heatmap.clear();for(var r=this.latlngs.length,l={max:this.heatmap.store.max,data:[]};r--;){var c=this.latlngs[r].latlng;if(t.containsPoint(c)){var h=this._map.pointToOverlayPixel(c),p=new BMap.Pixel(h.x-o,h.y-n),d=this.pixelTransform(p);l.data.push({x:d.x,y:d.y,count:this.latlngs[r].c})}}this.heatmap.store.setDataSet(l)}}}},i.prototype.pixelTransform=function(t){for(var e=this.heatmap.get("width"),i=this.heatmap.get("height");t.x<0;)t.x+=e;for(;t.x>e;)t.x-=e;for(;t.y<0;)t.y+=i;for(;t.y>i;)t.y-=i;return t.x=t.x>>0,t.y=t.y>>0,t},i.prototype._moveendHandler=function(t){this.setDataSet(this._data),delete this._data,this._map.removeEventListener("moveend",this._moveendHandler)},i.prototype.setDataSet=function(t){if(this._map){var e=this._map.getBounds(),i=this._map.pointToOverlayPixel(e.getNorthEast()),n=this._map.pointToOverlayPixel(e.getSouthWest());i&&n||(this._data=t,this._map.addEventListener("moveend",this._moveendHandler));var o={max:t.max,data:[]},s=t.data,a=s.length;for(this.latlngs=[];a--;){var r=new BMap.Point(s[a].lng,s[a].lat);if(this.latlngs.push({latlng:r,c:s[a].count}),e.containsPoint(r)){var l=this._map.pointToOverlayPixel(r),c=this._map.pointToOverlayPixel(e.getSouthWest()).x,h=this._map.pointToOverlayPixel(e.getNorthEast()).y,p=new BMap.Pixel(l.x-c,l.y-h),d=this.pixelTransform(p);o.data.push({x:d.x,y:d.y,count:s[a].count})}}this.heatmap.clear(),this.heatmap.store.setDataSet(o)}},i.prototype.addDataPoint=function(t,e,i){var n=new BMap.Point(t,e),o=this.pixelTransform(this._map.pointToOverlayPixel(n));this.heatmap.store.addDataPoint(o.x,o.y,i),this.latlngs.push({latlng:n,c:i})},i.prototype.toggle=function(){this.heatmap.toggleDisplay()}}();!function(){function t(t,i){try{BMap}catch(s){throw Error("Baidu Map JS API is not ready yet!")}var n=e(t),o=new BMap.Polyline(n,i);return o.addEventListener("lineupdate",(function(){this.isEditing&&this.enableEditing()})),o.cornerPoints=t,o.editMarkers=[],o.enableEditing=function(){var t=this;if(t.map){t.disableEditing();for(var i=0;i<t.cornerPoints.length;i++){var n=new BMap.Marker(t.cornerPoints[i],{icon:new BMap.Icon("http://api.map.baidu.com/library/CurveLine/1.5/src/circle.png",new BMap.Size(16,16)),enableDragging:!0,raiseOnDrag:!0});n.addEventListener("dragend",(function(){t.cornerPoints.length=0;for(var i=0;i<t.editMarkers.length;i++)t.cornerPoints.push(t.editMarkers[i].getPosition());var n=e(t.cornerPoints);t.setPath(n)})),n.index=i,t.editMarkers.push(n),t.map.addOverlay(n)}}t.isEditing=!0},o.disableEditing=function(){this.isEditing=!1;for(var t=0;t<this.editMarkers.length;t++)this.map.removeOverlay(this.editMarkers[t]),this.editMarkers[t]=null;this.editMarkers.length=0},o.getPath=function(){return n},o}function e(t){for(var e=[],n=0;n<t.length-1;n++){var o=i(t[n],t[n+1]);o&&o.length>0&&e.concat(o)}return e}function i(t,e){var i=[];if(!(t&&e&&t instanceof BMap.Point&&e instanceof BMap.Point))return null;var n,o,s,a,r,l,c=function(t){return 1-2*t+t*t},h=function(t){return 2*t-2*t*t},p=function(t){return t*t},d=30,m=0,u=0;if(void 0!==e){var g=parseFloat(t.lat),y=parseFloat(e.lat),f=parseFloat(t.lng),v=parseFloat(e.lng);for(v>f&&parseFloat(v-f)>180&&f<0&&parseFloat(360+f),f>v&&parseFloat(f-v)>180&&v<0&&parseFloat(360+v),0,y==g?(0,f-v):v==f?(Math.PI/2,g-y):(Math.atan((y-g)/(v-f)),(y-g)/Math.sin(n)),0==l&&n+Math.PI/5,o/2*Math.cos(l)+f,s*Math.sin(l)+g,0;m<d+1;m++)i.push(new BMap.Point(f*c(u)+r*h(u)+v*p(u),g*c(u)+a*h(u)+y*p(u))),1/d;return i}void 0!==i&&[]}}();var xt={install(t,e={}){x(e),t.component("baidu-map",F),t.component("bm-scale",G),t.component("bm-navigation",U),t.component("bm-map-type",q),t.component("bm-overview-map",K),t.component("bm-geolocation",X),t.component("bm-copyright",J),t.component("bm-city-list",Q),t.component("bm-panorama",Y),t.component("bm-control",tt),t.component("bm-marker",et),t.component("bm-point-collection",it),t.component("bm-polyline",nt),t.component("bm-polygon",ot),t.component("bm-circle",st),t.component("bm-ground",at),t.component("bm-label",rt),t.component("bm-info-window",lt),t.component("bm-overlay",ct),t.component("bm-context-menu",ht),t.component("bm-context-menu-item",pt),t.component("bm-local-search",dt),t.component("bm-transit",mt),t.component("bm-walking",ut),t.component("bm-driving",gt),t.component("bm-bus",yt),t.component("bm-tile",ft),t.component("bm-traffic",vt),t.component("bm-auto-complete",Ct),t.component("bm-boundary",_t)}};export{xt as i};
